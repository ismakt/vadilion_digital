<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
:root{ --bg:#000000; --overlay: rgba(0,0,0,0.85); --panel:#0e0e0e; --panel-2:#151515; --border:#2a2a2a; --gold:#c9a24d; --text:#ffffff; --muted:#b5b5b5; }
*{ box-sizing:border-box; border-radius: 16px; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; }
body{ background:var(--bg); color:var(--text); min-height:100vh; display:flex; flex-direction:column; }
/* HEADER */
header{ display:flex; justify-content:space-between; padding:15px; z-index:20; position:relative; }
.lang { display: inline-flex; align-items: center; justify-content: center; height: 28px; border: 1px solid var(--border); padding: 4px 12px; border-radius: 4px; font-size: 14px; line-height: 1; background-color: #000; }
.lang span{ cursor:pointer; margin: 0 4px; }
.lang .active{ color: var(--gold); }
/* MAIN */
main{ flex:1; display:flex; flex-direction:column; align-items:center; position:relative; padding:20px; overflow:hidden; }
/* VANTA BG */
#vanta-bg{ position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }
.menu, .panel, .modal { position: relative; z-index: 10; }
/* MENU */
.menu{ display:flex; gap:40px; position:absolute; top:23%; left:50%; transform:translateX(-50%); z-index:10; }
.menu button{ background:none; border:none; color:var(--text); font-size:18px; cursor:pointer; font-weight: 600; }
.menu button:hover{color:var(--gold);}
/* PANELS */
.panel{ display:none; position:absolute; top:calc(20% + 50px); left:50%; transform:translateX(-50%); background:var(--panel); border:1px solid var(--border); padding:20px; max-width:600px; width:100%; z-index:15;  color: #ffffff;  }
.panel h3{ color:var(--gold); margin-bottom:10px; cursor:pointer; }
.panel p{ font-size:14px; line-height:1.6;  }
.sub{display:none;margin-top:10px;}
/* FOOTER */
.footer-line{ height:1px; background:var(--border); }
.footer-content{ display:flex; justify-content:space-around; padding:10px; font-size:13px; }
.footer-content span{cursor:pointer;}
/* MODAL */
.modal{ display:none; position:fixed; inset:0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(1px); z-index:9999; justify-content:center; align-items:center; }
.modal-content{ background:var(--panel-2); border:1px solid var(--border); padding:20px; max-width:600px; width:100%; position:relative; }
.modal-content h4{ color:var(--gold); margin-bottom:10px; }
.modal-content p{ font-size:13px; color:var(--muted); margin-bottom:12px; }
.modal-content input, .modal-content textarea{ width:100%; margin-bottom:10px; background:#000; border:1px solid var(--border); color:#fff; padding:8px; }
.close{ position:absolute; top:8px; right:10px; cursor:pointer; }
/* BUTTONS */
.btn-linkedin, .btn-instagram, .btn-send, .btn-video, .btn-smartin
  { display: inline-block; margin-top: 12px; padding: 8px 16px; background-color: #555; color: #fff; 
   text-decoration: none; font-weight: 400; font-size: 12px; border-radius: 6px; transition: color 0.3s, background 0.3s; border: none; cursor: pointer; }
.blur-background { filter: blur(1px); }
.brand { position: relative; display: flex; flex-direction: column; align-items: flex-start; }
.brand h1 { color: var(--gold); font-size: 15px; letter-spacing: 1px; z-index: 1; }
.brand .logo { position: absolute; top: 20px; left: 0; width: 160px; height: auto; border-radius: 0; z-index: 0; }


.modal-smartin-content{
  width:95%;
  max-width:1200px;
  height:90vh;
  display:flex;
  flex-direction:column;
}

.smartin-layout{
  display:flex;
  gap:20px;
  flex:1;
  overflow:hidden;
}

.smartin-left, .smartin-right{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow-y:auto;
  padding: 10px; /* <-- ajoute de l'espace pour ne pas coller aux bords */
}


.map-mock{
  height:180px;
  border:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
}

.summary-box{
  border:1px solid var(--border);
  padding:12px;
  margin-top:10px;
  flex:1;
  overflow-y:auto;
}


.mapPreview {
  width: 220px;      /* largeur du SVG (carte) */
  height: 220px;     /* hauteur du SVG */
  border: none ;
  margin: 12px auto; /* centre le conteneur */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 7px;     /* <-- espace autour du SVG */
  box-sizing: content-box; /* padding ajouté autour du contenu */
}


.smartin-left {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 10px;
  flex: 1;
  min-height: 300px;      /* hauteur minimum de la colonne */
  overflow-y: auto;        /* scroll si trop de contenu */
}

#projectDetails {
  flex: 1;                 /* prend tout l’espace restant de la colonne */
  min-height: 100px;       /* hauteur minimum */
  resize: vertical;        /* permet d’agrandir verticalement */
  width: 100%;
  box-sizing: border-box;
}



/* Tout le label reste flex vertical/espacé */
.themes {
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
}



.theme-subtitle {
  font-weight: 400;
  font-size: 0.95rem;
  color: #ffffff;
  margin-top: 20px;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}


  
/* Chaque label : alignement horizontal checkbox + texte */
.themes label {
  display: flex;
  align-items: center;   /* centre checkbox et texte verticalement */
  gap: 8px;              /* espace entre la checkbox et le texte */
}

/* Cibler uniquement les checkboxes */
.themes input[type="checkbox"] {
  width: 18px;      /* largeur de la checkbox */
  height: 18px;     /* hauteur de la checkbox */
  accent-color: var(--gold); /* couleur de la coche si navigateur le supporte */
  flex-shrink: 0;   /* ne pas rétrécir */
}



#discoverSmartIn:hover {
  background-color: var(--gold);
  color: #000;
}



/* Harmonisation Goals / Themes */
.selectgoals {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.selectgoals label {
  display: flex;
  align-items: center;
  gap: 8px;
}

.selectgoals input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--gold);
  flex-shrink: 0;
}

  .selectgoals {
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 12px;
}


/* SMART-IN active / hover state */
#locationBtn:hover{
  background-color: var(--gold);
  color: #000
}


 
  
</style>
</head>
<body>
<header>
  <div class="brand">
    <img src="images/vadiliondigital_logo.png" alt="Logo Vadilion Digital" class="logo">
  </div>
  <div class="lang">
    <span class="active" id="fr-btn">FR</span>|<span id="en-btn">EN</span>
  </div>
</header>
  
<main>
  
  <div id="vanta-bg"></div>
  
<div class="menu">
  <button class="menu-btn" id="menu-about-button">À PROPOS</button>
  <button class="menu-btn">SOLUTIONS</button>
</div>


<div class="panel" id="about">
  <div id="about-text" style="text-align: left;">
    <p>Nous développons des solutions digitales uniques à forte valeur ajoutée, fondées sur des données fiables et répondant à des enjeux concrets.</p>
  </div>
</div>

<div class="panel" id="solutions">
  <div id="solution-smart-in-btn-parent">
    <div style="text-align: left;">

      <!-- Bouton Smart-In -->
      <button id="solution-smart-in-btn" class="btn-smartin" style="width:auto; text-align:left; font-weight:500;">SMART-IN</button>

      <!-- Contenu déroulant -->
      <div id="smart-in-text" style="display:none; margin-top:12px; border-top:1px solid var(--border); padding-top:12px;">

        <p>
  Nous accompagnons entrepreneurs et investisseurs dans leurs projets commerciaux et d’investissement.
  Constatant les difficultés d’accès à une information qualitative, fiable et rapidement exploitable,
  sans embellissements commerciaux, nous avons développé 
          
  <br>Smart-IN : une application indépendante offrant
  un accès clair et objectif aux données essentielles à tout projet immobilier ou commercial.
  Choisissez la ville qui vous intéresse ainsi que les thématiques que vous souhaitez analyser, et recevez
  un rapport qualitatif regroupant les éléments clés de votre réussite.
</p>

<p>Nos études sont développées autour des principaux piliers :</p>

<ul>
  <li>Cohérence du projet avec son environnement socio-économique</li>
  <li>Étude des concurrents : positionnement et dynamique de marché</li>
  <li>Analyse des clients potentiels : optimisation marketing et ciblage</li>
  <li>Analyse du marché immobilier : résilience, tendances et évolutions</li>
</ul><br>


        <div class="btn-flex" style="margin-top:20px; display:flex; justify-content:center; gap:12px;">
          <button id="discover-smart-in-btn" class="btn-send">Découvrir</button>
          <button id="video-smart-in" class="btn-video">Vidéo</button>
        </div>
      </div>

    </div>
  </div>
</div>


</main>

  
<footer>
  <div class="footer-line"></div>
  <div class="footer-content">
    <span onclick="openModal('officeModal')">Offices: Bruxelles, Paris, Monaco</span>
    <span onclick="openModal('contactModal')">Contact</span>
    <span onclick="openModal('mediaModal')">Media</span>
  </div>
</footer>


<div class="modal" id="contactModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('contactModal')">✕</span>
    <h4 id="contact-us">Contactez-nous</h4>
    <p id="contact-slogan">Nous écoutons attentivement vos besoins afin de vous proposer une solution précise et adaptée.</p>
    <input id="contact-client-name" placeholder="Nom" required>
    <input id="contact-client-info" placeholder="Coordonnées de contact" required>
    <textarea id="contact-message-area" placeholder="Comment pouvons nous vous aider?" maxlength="999" required></textarea>
    <button id="btn-send" class="btn-send">Envoyer</button>
  </div>
</div>
  
<div class="modal" id="mediaModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('mediaModal')">✕</span>
    <h4 id="our-media">Nos réseaux</h4>
    <a href="https://www.linkedin.com/company/vadiliondigital" target="_blank" class="btn-linkedin">LinkedIn</a>
    <a href="https://www.instagram.com/vadilion.digital" target="_blank" class="btn-instagram">Instagram</a>
  </div>
</div>
  
<div class="modal" id="officeModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('officeModal')">✕</span>
    <h4 id="offices">Bureaux</h4>
    <p id="offices-list">
      21 Avenue du Boulevard, Bruxelles (Financial District)<br><br>
      7 Rue Meyerbeer, Paris (Opéra Garnier)<br><br>
      74 Boulevard d'Italie, Monaco (Monte Carlo)
    </p>
  </div>
</div>
  
<div class="modal" id="videoModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('videoModal')">✕</span>
<h4 id="smart-in-video-title">Présentation Smart-In</h4>
    <div style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden;">
      <iframe id="smartInVideo" src="https://www.youtube.com/embed/VqEbCxg2bNI" frameborder="0" allow="accelerometer; autoplay; 
        clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position:absolute; top:0; left:0; width:100%; 
        height:100%;"></iframe>
    </div>
  </div>
</div>



<div class="modal modal-smartin" id="smartInModal">
  <div class="modal-content modal-smartin-content">

    <span class="close" onclick="closeModal('smartInModal')">✕</span>

    <h3 style="color:var(--gold); margin-bottom:12px;">Smart-In</h3>

    <div class="smartin-layout">

      
      <!-- LEFT -->
      <div class="smartin-left">

        <label id="label-contact-info-smart-in">Vos coordonnées</label>
<input id="input-contact-info-smart-in"placeholder="nom + email / mobile">


<label id="label-address-smart-in"> Adresse à analyser</label>
<input id="input-address-smart-in"placeholder="Si plusieurs (max. 3), séparez par ','">

<label id="label-project-description-smart-in">Décrivez votre projet</label>
<textarea id="textarea-project-details-smart-in" rows="10" placeholder=
  "Donnez nous un maximum d'information qui vous semblent importantes pour que nous puissions revenir vers vous avec la meilleure solution possible">
</textarea>



        


<label id="label-main-goal-smart-in">Sélectionnez l'objectif principal de l'étude (choix multiple possible)</label>

<div class="selectgoals" id="selectgoals-smart-in">
<label id="label-goal-select-all"> <input type="checkbox" id="goal-select-all">Tout séléctionner</label>

  <label id="label-goal-1">
    <input type="checkbox" class="goal" id="goal-1">Analyser la cohérence du projet dans son milieu socio-économique</label>

  <label id="label-goal-2">
    <input type="checkbox" class="goal" id="goal-2">Étude des concurrents: positionnement</label>

  <label id="label-goal-3">
    <input type="checkbox" class="goal" id="goal-3">Étude des clients potentiels: marketing et ciblage</label>

  <label id="label-goal-4">
    <input type="checkbox" class="goal" id="goal-4">Connaître les essentiels du marché immobilier</label>

</div>






<label id="label-select-themes-smart-in">Sélectionnez les thèmes que vous aimeriez connaitre</label>

<div class="themes" id="themes-smart-in">

  <!-- Select all -->
  <label id="label-theme-select-all">
    <input type="checkbox" class="theme" id="theme-select-all">Séléctionner tout</label>

  <!-- REAL ESTATE ESSENTIALS -->
  <div class="theme-subtitle" id="subtitle-theme-real-estate">Les essentiels du marché immobilier</div>

  <label id="label-theme-re-sales">
    <input type="checkbox" class="theme" id="theme-re-sales">Statistiques de ventes</label>

    <label id="label-theme-re-m2-price">
    <input type="checkbox" class="theme" id="theme-re-m2-price">Prix m2</label>


<label id="label-theme-re-prop-sold">
    <input type="checkbox" class="theme" id="theme-re-prop-sold">Nombre de biens vendus par type de biens</label>

  <label id="label-theme-re-apts-price">
    <input type="checkbox" class="theme" id="theme-re-prop-prices">Prix de vente par type de bien</label>

   <label id="label-theme-re-rent">
    <input type="checkbox" class="theme" id="theme-re-rent">Loyers</label>
  
  <label id="label-theme-re-stock">
    <input type="checkbox" class="theme" id="theme-re-stock">Composition du parc immobilier</label>

 
  <label id="label-theme-re-projects">
    <input type="checkbox" class="theme" id="theme-re-projects">Projets immobiliers et urbains</label>


  <label id="label-theme-re-gentrification">
    <input type="checkbox" class="theme" id="theme-re-gentrification">Gentrification</label>

  

  <!-- SECURITY -->
  <div class="theme-subtitle" id="subtitle-theme-security">Criminalité</div>

  <label id="label-theme-sec-theft">
    <input type="checkbox" class="theme" id="theme-sec-theft">Vols</label>

    <label id="label-theme-sec-burglary">
    <input type="checkbox" class="theme" id="theme-sec-burglary">Cambriolages</label>

  <label id="label-theme-sec-damage">
    <input type="checkbox" class="theme" id="theme-sec-damage">Dégradations de propriété</label>

  <label id="label-theme-sec-assault">
    <input type="checkbox" class="theme" id="theme-sec-assault">Coups / Blessures</label>

  <label id="label-theme-sec-drugs">
    <input type="checkbox" class="theme" id="theme-sec-drugs">Drogues</label>

  <label id="label-theme-sec-alcohol">
    <input type="checkbox" class="theme" id="theme-sec-alcohol">Alcool</label>

  <label id="label-theme-sec-weapons">
    <input type="checkbox" class="theme" id="theme-sec-weapons">Armes</label>

  <label id="label-theme-sec-public">
    <input type="checkbox" class="theme" id="theme-sec-public">Sécurité publique</label>



  <!-- SOCIOLOGY -->
  <div class="theme-subtitle" id="subtitle-theme-socio">Société</div>


    <label id="label-theme-socio-growth">
    <input type="checkbox" class="theme" id="theme-socio-growth">Croissance annuelle</label>

  <label id="label-theme-socio-birth">
    <input type="checkbox" class="theme" id="theme-socio-birth">Taux de natalité</label>

   <label id="label-theme-socio-solmig">
    <input type="checkbox" class="theme" id="theme-socio-solmig">Solde migratoire</label>

<label id="label-theme-socio-age">
    <input type="checkbox" class="theme" id="theme-socio-age">Population âgée de 18 à 64 ans</label>

  <label id="label-theme-socio-perctimmig">
    <input type="checkbox" class="theme" id="theme-socio-perctimmig">Population immigrée: % et cultures</label>

   <label id="label-theme-socio-immigration-birth-foreign">
    <input type="checkbox" class="theme" id="theme-eco-birth-foreign">Naissances de mères étrangères</label>
  
  <label id="label-theme-socio-density">
    <input type="checkbox" class="theme" id="theme-socio-density">Densité de population</label>
  
   <label id="label-theme-socio-school-delay">
    <input type="checkbox" class="theme" id="theme-socio-school-delay">Retard scolaire</label>

  

  
  <!-- SOCIO-ECONOMICS -->
  
  <div class="theme-subtitle" id="subtitle-theme-socio-eco">Socio-Économie</div>

  <label id="label-theme-eco-income">
    <input type="checkbox" class="theme" id="theme-socio-eco-income">Niveau de revenus</label>

  <label id="label-theme-eco-employment">
    <input type="checkbox" class="theme" id="theme-socio-eco-employment-and-typeof">Taux d’emploi & type d'occupatiion</label>


  <label id="label-theme-eco-unemployment">
    <input type="checkbox" class="theme" id="theme-socio-eco-unemployment">Taux de chômage</label>

  <label id="label-theme-eco-grapa">
    <input type="checkbox" class="theme" id="theme-socio-eco-grapa">Personnes âgées en difficulté financière (GRAPA 65+)</label>

  <label id="label-theme-eco-birth-no-income">
    <input type="checkbox" class="theme" id="theme-socio-eco-birth-no-income">Naissances dans ménage sans revenu de travail</label>

 
  <!--ECONOMICS -->

  <div class="theme-subtitle" id="subtitle-theme-eco">Économie</div>

  <label id="label-theme-eco-hq">
    <input type="checkbox" class="theme" id="theme-eco-hq-etab">Sièges sociaux & Établissements</label>


  <label id="label-theme-eco-business-migration">
    <input type="checkbox" class="theme" id="theme-eco-soldmig-business">Solde migratoire des entreprises</label>

  <label id="label-theme-eco-sectors">
    <input type="checkbox" class="theme" id="theme-eco-sectors">Secteurs économiques</label>

  

  <!-- QUALITY OF LIFE -->
  
  <div class="theme-subtitle" id="subtitle-theme-qol">
    Quality of Life
  </div>

  <label id="label-theme-qol-green">
    <input type="checkbox" class="theme" id="theme-qol-green">Espaces verts</label>

  <label id="label-theme-qol-pollution">
    <input type="checkbox" class="theme" id="theme-qol-pollution">Pollution (air, bruit)</label>

</div>
  </div>




<!-- RIGHT -->
<div class="smartin-right">

  <div class="summary-box">
    <h4 id="text-summary-title">Résumé</h4>
    <div id="summaryContent">En attente...</div>
  </div>

  <label id="text-label-select-city">Sélectionnez une ville</label>
  <select id="citySelect">
    <option value="" id="text-option-select-city">Sélectionnez une ville</option>
    <option value="Brussels" id="text-option-city-brussels">Bruxelles</option>
  </select>

  <div id="mapPreview" class="mapPreview"></div>

  <button class="btn-send" onclick="sendSmartIn()" id="text-btn-send">Envoyer</button>

</div>



      

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.dots.min.js"></script>
  
<script>


 


  // --- Coordonnées du contour de Bruxelles ---
const bruxellesContour = [
  [50.897838, 4.377298],
  [50.902392, 4.344199],
  [50.900750, 4.327877],
  [50.893973, 4.312415],
  [50.889656, 4.293477],
  [50.880728, 4.297330],
  [50.870691, 4.284429],
  [50.866247, 4.278776],
  [50.860285, 4.281114],
  [50.855783, 4.289664],
  [50.854185, 4.283001],
  [50.837543, 4.281821],
  [50.835917, 4.258190],
  [50.825902, 4.253997],
  [50.819764, 4.243681],
  [50.817496, 4.245000],
  [50.817085, 4.256735],
  [50.811082, 4.261090],
  [50.812229, 4.273701],
  [50.808397, 4.276143],
  [50.812222, 4.299704],
  [50.812324, 4.305595],
  [50.803639, 4.301175],
  [50.799089, 4.305103],
  [50.795488, 4.317261],
  [50.775451, 4.330906],
  [50.773641, 4.340649],
  [50.775478, 4.345166],
  [50.768587, 4.382710],
  [50.763681, 4.383142],
  [50.793553, 4.482248],
  [50.808672, 4.447815],
  [50.818897, 4.459151],
  [50.820568, 4.476968],
  [50.835620, 4.465399],
  [50.837835, 4.468433],
  [50.852329, 4.461708],
  [50.863419, 4.426335],
  [50.868019, 4.421486],
  [50.877840, 4.428538],
  [50.878911, 4.436795],
  [50.891065, 4.427108],
  [50.894867, 4.432491],
  [50.907473, 4.413091],
  [50.911571, 4.414397],
  [50.914253, 4.403035],
  [50.910627, 4.393672],
  [50.909910, 4.387689],
  [50.897407, 4.378014]
];

const bruxellesInterior = [
  [50.847886, 4.351187],
  [50.882791, 4.327702],
  [50.875713, 4.304439],
  [50.865721, 4.291617],
  [50.863093, 4.329683],
  [50.856711, 4.309934],
  [50.830774, 4.302340],
  [50.818363, 4.328158],
  [50.827020, 4.344418],
  [50.824415, 4.373052],
  [50.796912, 4.364271],
  [50.802678, 4.412690],
  [50.832807, 4.391470],
  [50.830684, 4.431618],
  [50.847373, 4.434946],
  [50.872396, 4.405943],
  [50.860920, 4.380985],
  [50.851763, 4.372782]
];



const citySelect = document.getElementById('citySelect');
const addressInput = document.getElementById('input-address-smart-in');
const projectDetails = document.getElementById('textarea-project-details-smart-in');
const contactInfoSmartIn = document.getElementById('input-contact-info-smart-in');
const summaryContent = document.getElementById('summaryContent');

  

const discoverBtn = document.getElementById('discover-smart-in-btn');

let smartInHoverTimeout = null;

discoverBtn.addEventListener('mouseenter', () => {
  // Ne rien faire si le modal est déjà ouvert
  if (document.getElementById('smartInModal').style.display === 'flex') return;

  // Délai pour éviter les ouvertures accidentelles
  smartInHoverTimeout = setTimeout(() => {
    openModal('smartInModal');
  }, 250);
});

discoverBtn.addEventListener('mouseleave', () => {
  clearTimeout(smartInHoverTimeout);
});



  document.getElementById('theme-select-all').addEventListener('change', e => {
  document.querySelectorAll('.theme').forEach(cb => cb.checked = e.target.checked);
  updateSummary();
});

  function updateSummary(){
  const city = citySelect.value;
  const addresses = addressInput.value;
  const contact = contactInfoSmartIn.value;
  const project = projectDetails.value;

  const goals = [...document.querySelectorAll('.goal:checked')]
    .map(g => g.parentElement.textContent.trim());

  const themes = [...document.querySelectorAll('.theme:checked')]
    .filter(t => t.id !== 'theme-select-all')
    .map(t => t.parentElement.textContent.trim());

  summaryContent.innerHTML = `
    <b>City:</b> ${city || '-'}<br>
    <b>Addresses:</b> ${addresses || '-'}<br>
    <b>Contact info:</b> ${contact || '-'}<br>
    <b>About your project:</b> ${project || '-'}<br>
    <b>Main goals:</b> ${goals.join(', ') || '-'}<br>
    <b>Themes:</b> ${themes.join(', ') || '-'}
  `;
}






['citySelect','input-address-smart-in','textarea-project-details-smart-in','input-contact-info-smart-in']
.forEach(id => document.getElementById(id).addEventListener('input', updateSummary));




  
 



// Gestion du sous-menu "SMART-IN"
const smartInBtnParent = document.getElementById('solution-smart-in-btn-parent');
const smartInBtn = document.getElementById('solution-smart-in-btn');
const smartInContent = document.getElementById('smart-in-text');
let smartInOpen = false;

// Vérifie que les éléments existent avant d'ajouter les listeners
if (smartInBtnParent && smartInBtn && smartInContent) {

  // Ouvrir/fermer au clic
  smartInBtnParent.addEventListener('click', () => {
    smartInOpen = !smartInOpen;
    smartInContent.style.display = smartInOpen ? 'block' : 'none';
  });

  // Ouvrir au survol
  smartInBtn.addEventListener('mouseenter', () => {
    smartInContent.style.display = 'block';
    smartInOpen = true;
  });

  // On ne ferme pas au mouseleave, fermeture uniquement au clic
}




let vantaEffect = VANTA.DOTS({ el:"#vanta-bg", mouseControls:true, touchControls:true, gyroControls:false, minHeight:200, minWidth:200, scale:1.0, scaleMobile:1.0, color:0xcffb7, color2:0x5520ff, backgroundColor:0x0, size:3.2, spacing:24, showLines:false });

function openModal(id){
  const modal = document.getElementById(id);
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  document.querySelector('main').classList.add('blur-background');

  // supprime l’ancienne carte à chaque ouverture
  if(id === 'smartInModal'){
    const container = document.getElementById('mapPreview');
    container.innerHTML = '';
  }
}

  citySelect.addEventListener('change', () => {
  const container = document.getElementById('mapPreview');
  container.innerHTML = ''; // supprime l’ancienne carte ou placeholder

  // si la ville sélectionnée est Brussels ET que le modal est ouvert
  if(citySelect.value === "Brussels" && document.getElementById('smartInModal').style.display === 'flex'){
    requestAnimationFrame(drawPreMap); // dessine la carte
  }
});


// Fonction closeModal à l’extérieur
function closeModal(id){
  const modal = document.getElementById(id);
  modal.style.display = 'none';
  document.body.style.overflow = 'auto';
  document.querySelector('main').classList.remove('blur-background');

  if(id==='videoModal'){
    const iframe = document.getElementById('smartInVideo');
    iframe.src = iframe.src;
  }
}




function sendSmartIn(){
  alert("Smart-In request sent (mock)");
}


function drawPreMap() {
  const container = document.getElementById('mapPreview');
  container.innerHTML = ''; // supprime le placeholder

  const width = container.offsetWidth;
  const height = container.offsetHeight;

  const padding = 15; // espace autour de la carte

  const svgNS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(svgNS, 'svg');
  svg.setAttribute('width', '100%');
  svg.setAttribute('height', '100%');
  container.appendChild(svg);

  // Normalisation
  const lons = bruxellesContour.map(c => c[1]);
  const lats = bruxellesContour.map(c => c[0]);
  const lonMin = Math.min(...lons);
  const lonMax = Math.max(...lons);
  const latMin = Math.min(...lats);
  const latMax = Math.max(...lats);

  function scaleX(lon) {
    return padding + ((lon - lonMin) / (lonMax - lonMin)) * (width - 2 * padding);
  }
  function scaleY(lat) {
    // inversion Y pour que le nord soit en haut
    return padding + (height - 2 * padding) - ((lat - latMin) / (latMax - latMin)) * (height - 2 * padding);
  }

  // --- Relief progressif ---
  const layers = 3;
  const offsetStep = 1.2;
  const contourColor = '#969695';

  for (let i = layers; i > 0; i--) {
    const layer = document.createElementNS(svgNS, 'polygon');
    layer.setAttribute('fill', 'none');
    layer.setAttribute('stroke', contourColor);
    layer.setAttribute('stroke-width', 0.9);
    layer.setAttribute('stroke-linejoin', 'round');
    layer.setAttribute('stroke-opacity', 0.15 * i);
    layer.setAttribute(
      'points',
      bruxellesContour.map(c =>
        (scaleX(c[1]) + i * offsetStep) + ',' + (scaleY(c[0]) + i * offsetStep)
      ).join(' ')
    );
    layer.setAttribute('vector-effect', 'non-scaling-stroke');
    svg.appendChild(layer);
  }

  // --- Contour principal ---
  const polygon = document.createElementNS(svgNS, 'polygon');
  polygon.setAttribute('fill', 'none');
  polygon.setAttribute('stroke', contourColor);
  polygon.setAttribute('stroke-width', '0.6');
  polygon.setAttribute('stroke-linejoin', 'round');
  polygon.setAttribute('vector-effect', 'non-scaling-stroke');
  polygon.setAttribute(
    'points',
    bruxellesContour.map(c => scaleX(c[1]) + ',' + scaleY(c[0])).join(' ')
  );
  svg.appendChild(polygon);

  // --- Points intérieurs ---
  bruxellesInterior.forEach(c => {
    const x = scaleX(c[1]);
    const y = scaleY(c[0]);
    const size = 3;
    const diamond = document.createElementNS(svgNS, 'polygon');
    diamond.setAttribute('points', `
      ${x},${y-size}
      ${x+size},${y}
      ${x},${y+size}
      ${x-size},${y}
    `);
    diamond.setAttribute('fill', 'none');
    diamond.setAttribute('stroke', '#ccbb5a');
    diamond.setAttribute('stroke-width', '1');
    diamond.setAttribute('stroke-linejoin', 'round');
    svg.appendChild(diamond);
  });
}

  // Pour toutes les checkboxes de thèmes (hors selectAll)
document.querySelectorAll('.themes .theme').forEach(cb => {
  if(cb.id !== 'theme-select-all'){ // ne pas réappliquer à selectAll
    cb.addEventListener('change', updateSummary);
  }
});


// --- Menu hover / click logic (About & Solutions) ---
const menuButtons = document.querySelectorAll('.menu button');
const panels = document.querySelectorAll('.panel');

menuButtons.forEach(btn => {
  // Récupérer l'ID du panel à partir de l'attribut onclick existant
  const panelIdMatch = btn.getAttribute('onclick')?.match(/'(\w+)'/);
  if(!panelIdMatch) return;
  const panel = document.getElementById(panelIdMatch[1]);

  // Hover : ouvre le panel et ferme les autres
  btn.addEventListener('mouseenter', () => {
    panels.forEach(p => { if(p !== panel) p.style.display = 'none'; });
    panel.style.display = 'block';
  });

  // Click : toggle uniquement ce panel
  btn.addEventListener('click', () => {
    panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
  });
});




  const selectAllGoals = document.getElementById('goal-select-all');

selectAllGoals.addEventListener('change', e => {
  document.querySelectorAll('.goal').forEach(cb => {
    cb.checked = e.target.checked;
  });

  updateSummary(); // si tu veux qu’ils apparaissent dans le summary
});

  document.querySelectorAll('.goal').forEach(cb => {
    cb.addEventListener('change', () => {
      const goals = document.querySelectorAll('.goal');
      selectAllGoals.checked = [...goals].every(g => g.checked);
      updateSummary();
    });
  });


  // =====================
// Traductions Safe
// =====================

const frBtn = document.getElementById('fr-btn');
const enBtn = document.getElementById('en-btn');

// ---- Fonctions utilitaires ----
function safeText(elSelectorOrId, text) {
    const el = typeof elSelectorOrId === 'string' 
        ? (elSelectorOrId.startsWith('#') ? document.getElementById(elSelectorOrId.slice(1)) : document.querySelector(elSelectorOrId))
        : elSelectorOrId;
    if (el) el.textContent = text;
}

function safeHTML(elSelectorOrId, html) {
    const el = typeof elSelectorOrId === 'string' 
        ? (elSelectorOrId.startsWith('#') ? document.getElementById(elSelectorOrId.slice(1)) : document.querySelector(elSelectorOrId))
        : el;
    if (el) el.innerHTML = html;
}

function safePlaceholder(elId, text) {
    const el = document.getElementById(elId);
    if (el) el.placeholder = text;
}

function safeLabel(forId, text) {
    const el = document.querySelector(`label[for='${forId}']`);
    if (el) el.textContent = text;
}

// ---- FRANÇAIS ----
frBtn.addEventListener('click', () => {
    frBtn.classList.add('active'); 
    enBtn.classList.remove('active');

    // Menu & textes principaux
    safeHTML('menu-about-button', '<p>À PROPOS</p>');
    safeHTML('about-text', `<p>Nous développons des solutions digitales uniques à forte valeur ajoutée, fondées sur des données fiables et répondant à des enjeux concrets.</p>`);

    safeHTML('smart-in-text', `<div style="text-align:left;">
        <p>Nous accompagnons entrepreneurs et investisseurs dans leurs projets commerciaux et d’investissement. Constatant les difficultés d’accès à une information qualitative, fiable et rapidement exploitable, sans embellissements commerciaux, nous avons développé Smart-IN : une application indépendante offrant un accès clair et objectif aux données essentielles à tout projet immobilier ou commercial. Choisissez la ville qui vous intéresse ainsi que les thématiques que vous souhaitez analyser, et recevez un rapport qualitatif regroupant les éléments clés de votre réussite.</p>
        <p>Nos études sont développées autour des principaux piliers :</p>
        <ul>
            <li>Cohérence du projet avec son environnement socio-économique</li>
            <li>Étude des concurrents : positionnement et dynamique de marché</li>
            <li>Analyse des clients potentiels : optimisation marketing et ciblage</li>
            <li>Analyse du marché immobilier : résilience, tendances et évolutions</li>
        </ul><br></div>`);

    // Smart-IN boutons
    const smartBtnsFR = {
        'solution-smart-in-btn': "SMART-IN",
        'discover-smart-in-btn': "Découvrir",
        'video-smart-in': "Vidéo"
    };
    Object.keys(smartBtnsFR).forEach(id => safeText(id, smartBtnsFR[id]));

    // Contact
    safeText('contact-us', "Contactez-nous");
    safeText('contact-slogan', "Nous écoutons attentivement vos besoins afin de vous proposer une solution précise et adaptée.");
    safePlaceholder('contact-client-name', "Nom");
    safePlaceholder('contact-client-info', "Coordonnées de contact");
    safePlaceholder('contact-message-area', "Comment pouvons-nous vous aider ?");
    safeText('btn-send', "Envoyer");

    // Réseaux & bureaux
    safeText('our-media', "Nos réseaux");
    safeText('offices', "Bureaux");
    safeHTML('offices-list', 
        "21 Avenue du Boulevard, Bruxelles (Financial District)<br><br>" +
        "7 Rue Meyerbeer, Paris (Opéra Garnier)<br><br>" +
        "74 Boulevard d'Italie, Monaco (Monte Carlo)");

    // Smart-IN video
    safeText('smart-in-video-title', "Présentation Smart-IN");

    // Formulaire Smart-IN
    safeText('label-contact-info-smart-in', "Vos coordonnées");
    safePlaceholder('input-contact-info-smart-in', "nom + email / mobile");
    safeText('label-address-smart-in', "Adresse à analyser");
    safePlaceholder('input-address-smart-in', "Si plusieurs (max. 3), séparez par ','");
    safeText('label-project-description-smart-in', "Décrivez votre projet");
    safePlaceholder('textarea-project-details-smart-in', "Donnez-nous un maximum d'information qui vous semblent importantes pour que nous puissions revenir vers vous avec la meilleure solution possible");

    // Objectifs principaux
    const goalLabelsFR = [
        {id: 'goal-select-all', text: "Tout séléctionner"},
        {id: 'goal-1', text: "Analyser la cohérence du projet dans son milieu socio-économique"},
        {id: 'goal-2', text: "Étude des concurrents: positionnement"},
        {id: 'goal-3', text: "Étude des clients potentiels: marketing et ciblage"},
        {id: 'goal-4', text: "Connaître les essentiels du marché immobilier"}
    ];
    goalLabelsFR.forEach(item => safeLabel(item.id, item.text));

    // Thèmes
    safeText('label-select-themes-smart-in', "Sélectionnez les thèmes que vous aimeriez connaitre");
    ['theme-select-all','theme-re-sales','theme-re-m2-price','theme-re-prop-sold','theme-re-prop-prices','theme-re-rent','theme-re-stock','theme-re-projects','theme-re-gentrification'].forEach(id => {
        const mapFR = {
            'theme-select-all': "Séléctionner tout",
            'theme-re-sales': "Statistiques de ventes",
            'theme-re-m2-price': "Prix m2",
            'theme-re-prop-sold': "Nombre de biens vendus par type de biens",
            'theme-re-prop-prices': "Prix de vente par type de bien",
            'theme-re-rent': "Loyers",
            'theme-re-stock': "Composition du parc immobilier",
            'theme-re-projects': "Projets immobiliers et urbains",
            'theme-re-gentrification': "Gentrification"
        };
        safeLabel(id, mapFR[id]);
    });

    // Sections secondaires – sécurité, socio-éco, économie, QoL
    const sectionsFR = [
        {id:'subtitle-theme-socio-eco', text:'Socio-Économie'},
        {id:'subtitle-theme-eco', text:'Économie'},
        {id:'subtitle-theme-qol', text:'Quality of Life'},
        {id:'subtitle-theme-security', text:'Sécurité'},
        {id:'subtitle-theme-real-estate', text:'Essentiels du marché immobilier'},
        {id:'subtitle-theme-socio', text:'Socio-Économie'}
    ];
    sectionsFR.forEach(item => safeText(item.id, item.text));

    // Checkboxes parents
    const checkboxesFR = [
        {id:'theme-socio-eco-income', text:'Niveau de revenus'},
        {id:'theme-socio-eco-employment-and-typeof', text:"Taux d’emploi & type d'occupation"},
        {id:'theme-socio-eco-unemployment', text:"Taux de chômage"},
        {id:'theme-socio-eco-grapa', text:"Personnes âgées en difficulté financière (GRAPA 65+)"},
        {id:'theme-socio-eco-birth-no-income', text:"Naissances dans ménage sans revenu de travail"},
        {id:'theme-eco-hq-etab', text:"Sièges sociaux & Établissements"},
        {id:'theme-eco-soldmig-business', text:"Solde migratoire des entreprises"},
        {id:'theme-eco-sectors', text:"Secteurs économiques"},
        {id:'theme-qol-green', text:"Espaces verts"},
        {id:'theme-qol-pollution', text:"Pollution (air, bruit)"},
        {id:'theme-sec-theft', text:"Vols"},
        {id:'theme-sec-burglary', text:"Cambriolages"},
        {id:'theme-sec-damage', text:"Dégradations de propriété"},
        {id:'theme-sec-assault', text:"Coups / Blessures"},
        {id:'theme-sec-drugs', text:"Drogues"},
        {id:'theme-sec-alcohol', text:"Alcool"},
        {id:'theme-sec-weapons', text:"Armes"},
        {id:'theme-sec-public', text:"Sécurité publique"},
        {id:'theme-socio-growth', text:"Croissance annuelle"},
        {id:'theme-socio-birth', text:"Taux de natalité"},
        {id:'theme-socio-solmig', text:"Solde migratoire"},
        {id:'theme-socio-age', text:"Population âgée de 18 à 64 ans"},
        {id:'theme-socio-perctimmig', text:"Population immigrée: % et cultures"},
        {id:'theme-eco-birth-foreign', text:"Naissances de mères étrangères"},
        {id:'theme-socio-density', text:"Densité de population"},
        {id:'theme-sociio-school-delay', text:"Retard scolaire"}
    ];
    checkboxesFR.forEach(item => {
        const el = document.getElementById(item.id);
        if (el && el.parentElement) el.parentElement.textContent = item.text;
    });

    // Résumé & ville
    safeText('text-summary-title', "Résumé");
    safeText('summaryContent', "En attente...");
    safeText('text-label-select-city', "Sélectionnez une ville");
    safeText('text-option-select-city', "Sélectionnez une ville");
    safeText('text-option-city-brussels', "Bruxelles");
    safeText('text-btn-send', "Envoyer");
});

// ---- ENGLISH ----
enBtn.addEventListener('click', () => {
    enBtn.classList.add('active'); 
    frBtn.classList.remove('active');

    // Menu & textes principaux
    safeHTML('menu-about-button', '<p>ABOUT</p>');
    safeHTML('about-text', `<p>We develop unique high–value digital solutions based on reliable data and designed to address real-world challenges.</p>`);

    const smartBtnsEN = {
        'solution-smart-in-btn': "SMART-IN",
        'discover-smart-in-btn': "Discover",
        'video-smart-in': "Video"
    };
    Object.keys(smartBtnsEN).forEach(id => safeText(id, smartBtnsEN[id]));

    // Contact
    safeText('contact-us', "Contact us");
    safeText('contact-slogan', "We carefully listen to your needs in order to offer a precise and tailored solution.");
    safePlaceholder('contact-client-name', "Name");
    safePlaceholder('contact-client-info', "Contact details");
    safePlaceholder('contact-message-area', "How can we help you?");
    safeText('btn-send', "Send");

    // Réseaux & bureaux
    safeText('our-media', "Our networks");
    safeText('offices', "Offices");
    safeHTML('offices-list', 
        "21 Avenue du Boulevard, Brussels (Financial District)<br><br>" +
        "7 Rue Meyerbeer, Paris (Opéra Garnier)<br><br>" +
        "74 Boulevard d'Italie, Monaco (Monte Carlo)");

    safeText('smart-in-video-title', "Smart-In Presentation");

    // Formulaire Smart-IN
    safeText('label-contact-info-smart-in', "Your contact details");
    safePlaceholder('input-contact-info-smart-in', "name + email / mobile");
    safeText('label-address-smart-in', "Address to analyze");
    safePlaceholder('input-address-smart-in', "If several (max. 3), separate with ','");
    safeText('label-project-description-smart-in', "Describe your project");
    safePlaceholder('textarea-project-details-smart-in', "Provide as much relevant information as possible so we can come back to you with the best possible solution");

    // Objectifs principaux
    const goalLabelsEN = [
        {id: 'goal-select-all', text: "Select all"},
        {id: 'goal-1', text: "Analyze the coherence of the project within its socio-economic environment"},
        {id: 'goal-2', text: "Competitor analysis: positioning"},
        {id: 'goal-3', text: "Potential customer analysis: marketing and targeting"},
        {id: 'goal-4', text: "Understand real estate market essentials"}
    ];
    goalLabelsEN.forEach(item => safeLabel(item.id, item.text));

    // Thèmes
    safeText('label-select-themes-smart-in', "Select the themes you would like to explore");
    const mapEN = {
        'theme-select-all': "Select all",
        'theme-re-sales': "Sales statistics",
        'theme-re-m2-price': "Price per m²",
        'theme-re-prop-sold': "Number of properties sold by property type",
        'theme-re-prop-prices': "Sale prices by property type",
        'theme-re-rent': "Rents",
        'theme-re-stock': "Housing stock composition",
        'theme-re-projects': "Real estate and urban development projects",
        'theme-re-gentrification': "Gentrification"
    };
    Object.keys(mapEN).forEach(id => safeLabel(id, mapEN[id]));

    // Sections & checkboxes (parentElement)
    const sectionsEN = [
        {id:'subtitle-theme-socio-eco', text:'Socio-Economics'},
        {id:'subtitle-theme-eco', text:'Economy'},
        {id:'subtitle-theme-qol', text:'Quality of Life'},
        {id:'subtitle-theme-security', text:'Crime'},
        {id:'subtitle-theme-real-estate', text:'Real estate market essentials'},
        {id:'subtitle-theme-socio', text:'Society'}
    ];
    sectionsEN.forEach(item => safeText(item.id, item.text));

    const checkboxesEN = [
        {id:'theme-socio-eco-income', text:'Income level'},
        {id:'theme-socio-eco-employment-and-typeof', text:"Employment rate & occupation type"},
        {id:'theme-socio-eco-unemployment', text:"Unemployment rate"},
        {id:'theme-socio-eco-grapa', text:"Elderly people facing financial hardship (65+)"},
        {id:'theme-socio-eco-birth-no-income', text:"Births in households with no employment income"},
        {id:'theme-eco-hq-etab', text:"Headquarters & establishments"},
        {id:'theme-eco-soldmig-business', text:"Business migration balance"},
        {id:'theme-eco-sectors', text:"Economic sectors"},
        {id:'theme-qol-green', text:"Green spaces"},
        {id:'theme-qol-pollution', text:"Pollution (air, noise)"},
        {id:'theme-sec-theft', text:"Thefts"},
        {id:'theme-sec-burglary', text:"Burglaries"},
        {id:'theme-sec-damage', text:"Property damage"},
        {id:'theme-sec-assault', text:"Assaults / Injuries"},
        {id:'theme-sec-drugs', text:"Drugs"},
        {id:'theme-sec-alcohol', text:"Alcohol"},
        {id:'theme-sec-weapons', text:"Weapons"},
        {id:'theme-sec-public', text:"Public safety"},
        {id:'theme-socio-growth', text:"Annual population growth"},
        {id:'theme-socio-birth', text:"Birth rate"},
        {id:'theme-socio-solmig', text:"Migration balance"},
        {id:'theme-socio-age', text:"Population aged 18 to 64"},
        {id:'theme-socio-perctimmig', text:"Immigrant population: % and origins"},
        {id:'theme-eco-birth-foreign', text:"Births to foreign mothers"},
        {id:'theme-socio-density', text:"Population density"},
        {id:'theme-sociio-school-delay', text:"School delay"}
    ];
    checkboxesEN.forEach(item => {
        const el = document.getElementById(item.id);
        if (el && el.parentElement) el.parentElement.textContent = item.text;
    });

    // Résumé & ville
    safeText('text-summary-title', "Summary");
    safeText('summaryContent', "Pending...");
    safeText('text-label-select-city', "Select a city");
    safeText('text-option-select-city', "Select a city");
    safeText('text-option-city-brussels', "Brussels");
    safeText('text-btn-send', "Send");
});



</script>
</body>
</html>

























