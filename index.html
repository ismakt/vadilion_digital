<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
:root{ --bg:#000000; --overlay: rgba(0,0,0,0.85); --panel:#0e0e0e; --panel-2:#151515; --border:#4a4a4a; --gold:#c9a24d; --text:#ffffff; --muted:#b5b5b5; }

.box-container,
.panel,
.modal-content {
  border: 1px solid var(--border);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.04);
}

  
*{ box-sizing:border-box; border-radius: 16px; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; }
body{ background:var(--bg); color:var(--text); min-height:100vh; display:flex; flex-direction:column; }
/* HEADER */
header{ display:flex; justify-content:space-between; padding:15px; z-index:20; position:relative; }
.lang { display: inline-flex; align-items: center; justify-content: center; height: 28px; border: 1px solid var(--border); padding: 4px 12px; border-radius: 4px; font-size: 14px; line-height: 1; background-color: #000; }
.lang span{ cursor:pointer; margin: 0 4px; }
.lang .active{ color: var(--gold); }
/* MAIN */
main{ flex:1; display:flex; flex-direction:column; align-items:center; position:relative; padding:20px; overflow:hidden; }
/* VANTA BG */
#vanta-bg{ position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }
.menu, .panel, .modal { position: relative; z-index: 10; }
/* MENU */
.menu{ display:flex; gap:40px; position:absolute; top:23%; left:50%; transform:translateX(-50%); z-index:10; }
.menu button{ background:none; border:none; color:var(--text); font-size:18px; cursor:pointer; font-weight: 600; }
.menu button:hover{color:var(--gold);}
/* PANELS */
.panel{ display:none; position:absolute; top:calc(20% + 50px); left:50%; transform:translateX(-50%); background:var(--panel); border:1px solid var(--border); padding:20px; max-width:600px; width:100%; z-index:15;  color: #ffffff;  }
.panel h3{ color:var(--gold); margin-bottom:10px; cursor:pointer; }
.panel p{ font-size:14px; line-height:1.6;  }
.sub{display:none;margin-top:10px;}
/* FOOTER */
.footer-line{ height:1px; background:var(--border); }
.footer-content{ display:flex; justify-content:space-around; padding:10px; font-size:13px; }
.footer-content span{cursor:pointer;}
/* MODAL */
.modal{ display:none; position:fixed; inset:0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(1px); z-index:9999; justify-content:center; align-items:center; }
.modal-content{ background:var(--panel-2); border:1px solid var(--border); padding:20px; max-width:600px; width:100%; position:relative; }
.modal-content h4{ color:var(--gold); margin-bottom:10px; }
.modal-content p{ font-size:13px; color:var(--muted); margin-bottom:12px; }
.modal-content input, .modal-content textarea{ width:100%; margin-bottom:10px; background:#000; border:1px solid var(--border); color:#fff; padding:8px; }
.close{ position:absolute; top:8px; right:10px; cursor:pointer; }
/* BUTTONS */
.btn-linkedin, .btn-instagram,  btn-send, .btn-video, .btn-smartin
  { display: inline-block; margin-top: 12px; padding: 8px 16px; background-color: #555; color: #fff; 
   text-decoration: none; font-weight: 400; font-size: 12px; border-radius: 6px; transition: color 0.3s, background 0.3s; border: none; cursor: pointer; }
.blur-background { filter: blur(1px); }
.brand { position: relative; display: flex; flex-direction: column; align-items: flex-start; }
.brand h1 { color: var(--gold); font-size: 15px; letter-spacing: 1px; z-index: 1; }
.brand .logo { position: absolute; top: 20px; left: 0; width: 160px; height: auto; border-radius: 0; z-index: 0; }


.btn-discover
  { display: inline-block; margin-top: 12px; padding: 8px 16px; background-color: #555; color: #fff; 
   text-decoration: none; font-weight: 400; font-size: 12px; border-radius: 6px; transition: color 0.3s, background 0.3s; border: none; cursor: pointer; width:40% }






  
.modal-smartin-content {
  width: 95%;
  max-width: 1200px;
  height: auto;       
  max-height: 90vh;   
  display: flex;
  flex-direction: column;
}

.smartin-layout {
  display: flex;
  gap: 15px;                  /* espace entre les colonnes */
  justify-content: center;     /* centre le groupe de colonnes */
  align-items: flex-start;     /* alignement vertical */
}

.smartin-left,
.smartin-right {
  flex: 1;                     /* prend la m√™me largeur */
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 10px;
  min-height: unset;
  overflow: unset;
}

/* Optional: si tu veux espacer exactement les colonnes */
.smartin-left {
  margin-right: 7.5px;         /* moiti√© du gap */
}

.smartin-right {
  margin-left: 7.5px;          /* moiti√© du gap */
}

  
  .smartin-left-container {
  border: 1px solid var(--border); /* ou #ccc si tu veux plus clair */
  border-radius: 12px;             /* optionnel, arrondi comme √† droite */
  padding: 10px;                    /* espace int√©rieur */
  gap: 20px;               /* ‚Üê augmente l‚Äôespacement entre chaque box */
}



.box-container {
  border: 1px solid var(--border);
  padding: 12px;
  margin-top: 7px;
  background: transparent;
}



.map-mock{
  height:180px;
  border:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
}






  
.summary-wrapper {
  display: flex;
  flex-direction: column;
  gap: 8px;
  height: 100%;          /* occupe tout l‚Äôespace vertical disponible */
  position: relative;     /* pour permettre le positionnement absolu du bouton */
}



.summary-box {
  border: 1px solid var(--border);
  padding: 12px;
  overflow-y: auto;
  max-height: 430px;
  min-height: 180px;

  /* üëá cache visuellement mais garde le JS actif */
  position: absolute;
  left: -9999px;
  visibility: hidden;
  height: 0;
  overflow: hidden;
}


  

.btn-send-summary {
  display: inline-block; 
  margin-top: 12px; 
  padding: 8px 16px; 
  background-color: #555; 
  color: #fff;           /* texte blanc */
  font-weight: 400; 
  font-size: 12px; 
  border-radius: 6px; 
  transition: color 0.3s, background 0.3s; 
  border: none; 
  cursor: pointer;

  position: sticky;       /* reste visible m√™me en scrollant */
  bottom: 0;              /* coll√© au bas du container */
  width: 100%;            /* prend toute la largeur */
  text-align: center;     /* centre le texte */
  z-index: 10;            /* toujours au-dessus */
}

  



.mapPreview {
  width: 220px;      /* largeur du SVG (carte) */
  height: 220px;     /* hauteur du SVG */
  border: none ;
  margin: 12px auto; /* centre le conteneur */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 7px;     /* <-- espace autour du SVG */
  box-sizing: content-box; /* padding ajout√© autour du contenu */
}




#projectDetails {
  flex: 1;                 /* prend tout l‚Äôespace restant de la colonne */
  min-height: 100px;       /* hauteur minimum */
  resize: vertical;        /* permet d‚Äôagrandir verticalement */
  width: 100%;
  box-sizing: border-box;
    margin-top: 4px;

}


/* Tout le label reste flex vertical/espac√© */
.themes {
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
}



.theme-subtitle {
  font-weight: 400;
  font-size: 0.95rem;
  color: #ffffff;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}


  
/* Chaque label : alignement horizontal checkbox + texte */
.themes label {
  display: flex;
  align-items: center;   /* centre checkbox et texte verticalement */
  gap: 8px;              /* espace entre la checkbox et le texte */

}

/* Cibler uniquement les checkboxes */
.themes input[type="checkbox"] {
  width: 18px;      /* largeur de la checkbox */
  height: 18px;     /* hauteur de la checkbox */
  accent-color: var(--gold); /* couleur de la coche si navigateur le supporte */
  flex-shrink: 0;   /* ne pas r√©tr√©cir */
}






#discoverSmartIn:hover {
  background-color: var(--gold);
  color: #000;
}



/* Harmonisation Goals / Themes */
.selectgoals {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.selectgoals label {
  display: flex;
  align-items: center;
  gap: 8px;
}

.selectgoals input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--gold);
  flex-shrink: 0;
}

  .selectgoals {
  padding-bottom: 12px;
  border-bottom: 5px solid var(--border);
  margin-bottom: 12px;
}


/* SMART-IN active / hover state */
#locationBtn:hover{
  background-color: var(--gold);
  color: #000
}



  #locationContentInnerText {
    white-space: pre-line; /* interpr√®te \n et \n\n comme retours √† la ligne */
    line-height: 1.6;
}

  #offices-list {
  white-space: pre-line; /* interpr√®te \n et \n\n comme retours √† la ligne */
  line-height: 1.6;
}

  
/* Styles g√©n√©raux pour uniformiser tous les champs */
label {
  display: block;          /* chaque label sur sa ligne */
  margin-bottom: 0.15em;   /* espace avant le champ */
  font-weight: 500;
}

/* Inputs texte, email, textarea et select */
input[type="text"],
input[type="email"],
input[type="tel"],
textarea,
select {
  display: block;
  width: 100%;
  padding: 0.5em;
  box-sizing: border-box;
  line-height: 1.4;
  vertical-align: middle;
}

/* Inputs checkbox et radio */
input[type="checkbox"],
input[type="radio"] {
  display: inline-block;   /* pas de largeur forc√©e */
  width: auto;
  height: auto;
  margin: 0;
  padding: 0;
  flex-shrink: 0;          /* utile si label en flex */
}


  /* Optionnel : alignement du placeholder */
input::placeholder {
  color: #aaa;
  opacity: 1;              /* pour Chrome */
}


  
select {
  background-color: #000;
  color: #fff;
  border: 1px solid #333;
}

select option {
  background-color: #000;
  color: #fff;
}

  
  .form-group {
  margin-bottom: 0.25em; /* espace entre chaque bloc */
}

#citySelect {
  background-color: #000;  /* noir comme tes autres cellules */
  color: #fff;             /* texte en blanc */
  padding: 0.5em;
  border: 1px solid #333;  /* optionnel : bordure */
}

#citySelect option {
  background-color: #000;  /* fond noir aussi pour toutes les options */
  color: #fff;             /* texte blanc */
}

  #select-city-placeholder {
  color: #888;  /* gris clair */
}


  .smartin-right input,
.smartin-right textarea,
.smartin-right select{
  margin-bottom: 4px;
}



/* Par d√©faut, le message est cach√© */
#mobileMessage {
  display: none;
  text-align: center;
  color: var(--text);
  background-color: var(--panel);
  border: 1px solid var(--border);
  padding: 20px;
  max-width: 500px;
  border-radius: 12px;
  font-size: 16px;
  line-height: 1.5;
}

.approach-box {
  max-width: 600px;
  min-width: 300px;
  width: 100%;

  padding: 15px;
  box-sizing: border-box;

  overflow-wrap: break-word;

  border: 1px solid #ccc;
  border-radius: 8px;
}



  #approach-content {
  white-space: pre-wrap;
}

  #approach-title {
  margin-bottom: 5px; /* ajuste √† volont√© */
}


  #about-text {
  white-space: pre-wrap;
}






/* === FIX ALIGNEMENT CHECKBOX + TEXTE === */

/* Conteneurs de checkboxes */
.box-container label {
  display: flex;            /* override du display:block global */
  align-items: center;      /* alignement vertical parfait */
  gap: 8px;
  margin-bottom: 6px;
  cursor: pointer;
}

/* Checkbox : taille fixe, pas de largeur forc√©e */
.box-container input[type="checkbox"] {
  width: 16px;
  height: 16px;
  margin: 0;
  padding: 0;
  flex-shrink: 0;
}

/* Texte : reste bien align√© m√™me sur plusieurs lignes */
.box-container span {
  display: inline-block;
  line-height: 1.4;
}



#maingoal-label,
#theme-label {
  display: block;
  font-weight: 700;
  color: var(--gold);

  margin-bottom: 5px; /* espace entre le titre et la 1√®re checkbox */
}



.smartin-right input,
.smartin-right textarea,
.smartin-right select {
  border-radius: 8px; /* ou 4px si tu veux encore plus droit */
}





  

/* Mobile / tablet small screens */
@media (max-width: 768px) {
  /* Affiche le message */
  #mobileMessage {
    display: block;
    position: fixed;
    inset: 0; /* top:0; right:0; bottom:0; left:0 */
    display: flex;
    justify-content: center; /* horizontal */
    align-items: center;     /* vertical */
    margin: 0;
    padding: 20px;
    z-index: 9999;
  }

  /* Masquer le reste du site */
  main, header, footer {
    display: none;
  }
}
</style>
</head>
<body>
<header>
  <div class="brand">
    <img src="images/vadiliondigital_logo.png" alt="Logo Vadilion Digital" class="logo">
  </div>
  <div class="lang">
    <span class="active" id="fr-btn">FR</span>|<span id="en-btn">EN</span>
  </div>



<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P0VXRKH12S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P0VXRKH12S');
</script>

  
</header>
<main>
  <div id="vanta-bg"></div>
<div class="menu">
<button id="menu-about" onclick="togglePanel('about')">√Ä PROPOS</button>
  <button onclick="togglePanel('solutions')">SOLUTIONS</button>
</div>





  

<div class="panel" id="about">
  <div id="about-text" style="text-align: left;">Nous d√©veloppons des solutions digitales uniques, r√©pondant √† des besoins concrets, √† partir de donn√©es √† forte valeur ajout√©e.</div>
</div>

<div class="panel" id="solutions">
  <div id="solutions-text">
    <div style="text-align: left;">

      <!-- Bouton Location Intelligence -->
      <button id="locationBtn" class="btn-smartin" style="width:auto; text-align:left; font-weight:500;">SMART-IN</button>

      <!-- Contenu d√©roulant cach√© par d√©faut -->
      <div id="locationContentText" style="display:block; margin-top:10px; border:2px solid var(--border); padding:10px;">
          <div id="locationContentInnerText">Smart-In est une plateforme d‚Äôanalyse territoriale, con√ßue pour accompagner entrepreneurs et investisseurs dans le choix d‚Äôun emplacement commercial ainsi que dans l‚Äôanalyse de la coh√©rence de projets immobiliers.

Nous analysons notamment l‚Äôad√©quation du projet avec son environnement socio-√©conomique, identifions les concurrents et les clients potentiels, et √©tudions le march√© immobilier ainsi que son √©volution, en tenant compte de l'impact des projets urbains et immobiliers.</div>

        
        

        <div class="btn-flex" style="margin-top:20px; display:flex; justify-content:center; gap:12px;">
          <button id="discoverSmartIn" class="btn-discover">D√©couvrir Smart-In</button>
         <!-- <button id="presentationSmartIn" class="btn-video">Video</button>-->
        </div>
      </div>

    </div>
  </div>
</div>


</main>
<footer>
  <div class="footer-line"></div>
  <div class="footer-content">
<span id="offices-link" onclick="openModal('officeModal')">Bureaux: Bruxelles, Paris, Monaco</span>
    <span onclick="openModal('contactModal')">Contact</span>
    <span onclick="openModal('mediaModal')">Media</span>
  </div>
</footer>
<div class="modal" id="contactModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('contactModal')">‚úï</span>
    <h4 id="contact-text">Contactez-nous</h4>
    <p id="contact-text2">Nous √©coutons attentivement vos besoins afin de vous proposer une solution pr√©cise et adapt√©e.</p>
    <input id="contact-name" placeholder="Nom" required>
    <input id="contact-info" placeholder="Coordonn√©es de contact" required>
    <textarea id="contact-message" placeholder="Comment pouvons nous vous aider?" maxlength="999" required></textarea>
    <button id="btn-send" class="btn-send-summary">Envoyer</button>
  </div>
</div>
<div class="modal" id="mediaModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('mediaModal')">‚úï</span>
    <h4 id="our-media">Nos r√©seaux</h4>
    <a href="https://www.linkedin.com/company/vadiliondigital" target="_blank" class="btn-linkedin">LinkedIn</a>
    <a href="https://www.instagram.com/vadilion.digital" target="_blank" class="btn-instagram">Instagram</a>
  </div>
</div>
<div class="modal" id="officeModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('officeModal')">‚úï</span>
    <h4 id="offices">Offices</h4>
    <p id="offices-list">21 Avenue du Boulevard, Bruxelles (Financial District)

      7 Rue Meyerbeer, Paris (Op√©ra Garnier)

      74 Boulevard d'Italie, Monaco (Monte Carlo)
    </p>
  </div>
</div>
<div class="modal" id="videoModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('videoModal')">‚úï</span>
<h4 id="presentation-title">Presentation Smart-In</h4>
    <div style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden;">
      <iframe id="smartInVideo" src="https://www.youtube.com/embed/VqEbCxg2bNI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position:absolute; top:0; left:0; width:100%; height:100%;"></iframe>
    </div>
  </div>
</div>




<div class="modal modal-smartin" id="smartInModal">
  <div class="modal-content modal-smartin-content">

    <span class="close" onclick="closeModal('smartInModal')">‚úï</span>

<h3 id="smartin-title" style="color:var(--gold); margin-bottom:12px;">Smart-In: Formulaire de Contact</h3>

    <div class="smartin-layout">


      
      <!-- LEFT -->
      <div class="smartin-left">

  <!-- Container global -->
  <div class="smartin-left-container">

    
<div class="box-container">
  <h4 id="approach-title">Notre approche</h4>
  <div id="approach-content">1. Comprendre votre besoin
2. Plan d'action pr√©cis
3. Ex√©cution efficace</div>
</div>


<div class="box-container">
<label id="maingoal-label">Objectif principal de l'√©tude</label>
<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoal">
    √âtude du milieu socio-√©conomique
  </span>
</label>

<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoa2">
    √âtude des concurrents
  </span>
</label>

<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoa3">
    Identification des clients potentiels
  </span>
</label>

<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoa4">
    Compr√©hension du march√© immobilier et de ses dynamiques
  </span>
  
</label>
</div>
<div class="box-container">
<label id="theme-label">Th√®mes √† √©tudier (liste non exhaustive)</label>

    <label>
  <input type="checkbox" class="theme">
  <span id="theme1">
  Profil de la population: revenus, type d‚Äôoccupation, cultures, √¢ges</span>
</label>

    <label>
  <input type="checkbox" class="theme">
  <span id="theme2">
  Tissu √©conomique: performances et typologie des entreprises</span>
</label>

  
<label>
  <input type="checkbox" class="theme">
  <span id="theme3">
 March√© immobilier: transactions, prix, impact des projets urbains</span>
</label>

  <label>
  <input type="checkbox" class="theme4">
  <span id="theme4">
  Qualit√© de vie: espaces verts, pollution de l‚Äôair et sonore, s√©curit√©</span>
</label>

 </div>

      </div>
        
</div>

      
      <!-- RIGHT -->

      <div class="smartin-right">

  <!-- üîπ CONTAINER : Projet -->
  <div class="box-container">


    
<div class="form-group">
  <select id="citySelect">
    <option value="">S√©lectionner une ville</option>
    <option value="Brussels">Bruxelles</option>
  </select>
</div>

<div class="form-group">

  <input id="addressInput" placeholder="Adresse(s) √† analyser (max. 3)">
</div>

  
<input id="contactInfoSmartIn" placeholder="Vos coordonn√©es de contact (email et/ou mobile)">


<textarea id="projectDetails" rows="14" placeholder="D√©crivez votre projet"></textarea>

            <button id="btn-send-summary" class="btn-send-summary" onclick="sendSmartIn()">Envoyer</button>

</div>


    


        
<div class="summary-box">
  <h4 id="summary-title">R√©sum√©</h4>
  <div id="summaryContent">En attente...</div>
</div>


</select>









      </div>

    </div>
  </div>
</div>


<!-- Message pour mobile / tablette petite -->
<div id="mobileMessage">
  Mobile version in development, please visit the website from your PC.
</div>


<!-- 3D JS -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>


<!-- VantaDots -->

<script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.dots.min.js"></script>


<!-- EmailJS -->

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>


  
<script>

let vantaEffect = VANTA.DOTS({ el:"#vanta-bg", mouseControls:true, touchControls:true, gyroControls:false, minHeight:200, minWidth:200, 
                              scale:1.0, scaleMobile:1.0, color:0xcffb7, color2:0x5520ff, backgroundColor:0x0, size:3.2, spacing:24, showLines:false });


// SOLUTIONS -> SMART-IN BUTON -> D√âROULEMENT SOUS-MENU


const locationBtn = document.getElementById('locationBtn');
const locationContentText = document.getElementById('locationContentText');
let locationOpen = false;

  // Fonction pour ouvrir/fermer au clic
locationBtn.addEventListener('click', () => {
  locationOpen = !locationOpen;
  locationContentText.style.display = locationOpen ? 'block' : 'none';
});

  // Fonction pour ouvrir au survol
locationBtn.addEventListener('mouseenter', () => {
  locationContentText.style.display = 'block';
  locationOpen = true;
});

// On ne ferme pas au mouseleave, fermeture uniquement au clic sur locationBtn




// SMART-IN BUTON -> D√âROULEMENT SOUS-MENU; Boutons Discover Smart-In et  Video

// document.getElementById('presentationSmartIn').addEventListener('click', () => openModal('videoModal'));

  


// DISCOVER SMART-IN -> SMART-IN CONTACT FORM
  

const discoverBtn = document.getElementById('discoverSmartIn');
  

let smartInHoverTimeout = null;

discoverBtn.addEventListener('mouseenter', () => {
  
  // Ne rien faire si le modal est d√©j√† ouvert
  
  if (document.getElementById('smartInModal').style.display === 'flex') return;

  // D√©lai pour √©viter les ouvertures accidentelles
  
  smartInHoverTimeout = setTimeout(() => {
    openModal('smartInModal');
  }, 250);
});

discoverBtn.addEventListener('mouseleave', () => {
  clearTimeout(smartInHoverTimeout);
});


// --- Menu hover / click logic (About & Solutions) ---
const menuButtons = document.querySelectorAll('.menu button');
const panels = document.querySelectorAll('.panel');

menuButtons.forEach(btn => {
  // R√©cup√©rer l'ID du panel √† partir de l'attribut onclick existant
  const panelIdMatch = btn.getAttribute('onclick')?.match(/'(\w+)'/);
  if(!panelIdMatch) return;
  const panel = document.getElementById(panelIdMatch[1]);

  // Hover : ouvre le panel et ferme les autres
  btn.addEventListener('mouseenter', () => {
    panels.forEach(p => { if(p !== panel) p.style.display = 'none'; });
    panel.style.display = 'block';
  });

  // Click : toggle uniquement ce panel
  btn.addEventListener('click', () => {
    panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
  });
});

// **Plus besoin de ce listener, on le supprime**
// document.addEventListener('mousemove', ...);



  
const citySelect = document.getElementById('citySelect');
const addressInput = document.getElementById('addressInput');
const projectDetails = document.getElementById('projectDetails');
const contactInfoSmartIn = document.getElementById('contactInfoSmartIn');
const summaryContent = document.getElementById('summaryContent');
const selectAllGoals = document.getElementById('selectAllGoals');



// --- THEMES ---
const selectAllThemesCheckbox = document.getElementById('selectAllThemesCheckbox');
const themeCheckboxes = document.querySelectorAll('.theme');

if (selectAllThemesCheckbox) {
  selectAllThemesCheckbox.addEventListener('change', () => {
    themeCheckboxes.forEach(cb => cb.checked = selectAllThemesCheckbox.checked);
    updateSummary();
  });
}

themeCheckboxes.forEach(cb => {
  cb.addEventListener('change', () => {
    if (selectAllThemesCheckbox) {
      selectAllThemesCheckbox.checked =
        [...themeCheckboxes].every(t => t.checked);
    }
    updateSummary();
  });
});


// --- GOALS ---
const selectAllGoalsCheckbox = document.getElementById('selectAllGoalsCheckbox');
const goalCheckboxes = document.querySelectorAll('.goal');

if (selectAllGoalsCheckbox) {
  selectAllGoalsCheckbox.addEventListener('change', () => {
    goalCheckboxes.forEach(cb => cb.checked = selectAllGoalsCheckbox.checked);
    updateSummary();
  });
}

goalCheckboxes.forEach(cb => {
  cb.addEventListener('change', () => {
    if (selectAllGoalsCheckbox) {
      selectAllGoalsCheckbox.checked =
        [...goalCheckboxes].every(g => g.checked);
    }
    updateSummary();
  });
});





  
  
/* --- SUMMARY UPDATE FUNCTION --- */
function updateSummary() {

  const contact = document.getElementById('contactInfoSmartIn')?.value || '';
  const addresses = document.getElementById('addressInput')?.value || '';
  const project = document.getElementById('projectDetails')?.value || '';
  const city = document.getElementById('citySelect')?.value || '';

  const goals = [...document.querySelectorAll('.goal:checked')]
    .map(g => g.parentElement.innerText.trim());

  const themes = [...document.querySelectorAll('.theme:checked')]
    .map(t => t.parentElement.innerText.trim());

  document.getElementById('summaryContent').innerHTML = `
    <b>Coordonn√©es :</b> ${contact || '-'}<br>
    <b>Adresse(s) :</b> ${addresses || '-'}<br>
    <b>Description du projet :</b> ${project || '-'}<br>
    <b>Objectif(s) principal(aux) :</b> ${goals.length ? goals.join(', ') : '-'}<br>
    <b>Th√®mes s√©lectionn√©s :</b> ${themes.length ? themes.join(', ') : '-'}<br>
    <b>Ville :</b> ${city || '-'}
  `;
}

/* --- LISTENERS --- */
[
  'contactInfoSmartIn',
  'addressInput',
  'projectDetails',
  'citySelect'
].forEach(id => {
  const el = document.getElementById(id);
  if (el) el.addEventListener('input', updateSummary);
});

/* --- CHECKBOX LISTENERS --- */
document.querySelectorAll('.goal, .theme').forEach(cb => {
  cb.addEventListener('change', updateSummary);
});


  
  // --- Select city -> Map ---


  function openModal(id){
  const modal = document.getElementById(id);
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  document.querySelector('main').classList.add('blur-background');

  // supprime l‚Äôancienne carte √† chaque ouverture
  if(id === 'smartInModal'){
    const container = document.getElementById('mapPreview');
    container.innerHTML = '';
  }
}

  citySelect.addEventListener('change', () => {
  const container = document.getElementById('mapPreview');
  container.innerHTML = ''; // supprime l‚Äôancienne carte ou placeholder

  
    // si la ville s√©lectionn√©e est Brussels ET que le modal est ouvert
  if(citySelect.value === "Brussels" && document.getElementById('smartInModal').style.display === 'flex'){
    requestAnimationFrame(drawPreMap); // dessine la carte
  }
});




/*
// --- Select city -> Map Function ---

function drawPreMap() {
  const container = document.getElementById('mapPreview');
  container.innerHTML = ''; // supprime le placeholder

  const width = container.offsetWidth;
  const height = container.offsetHeight;

  const padding = 15; // espace autour de la carte

  const svgNS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(svgNS, 'svg');
  svg.setAttribute('width', '100%');
  svg.setAttribute('height', '100%');
  container.appendChild(svg);

  // Normalisation
  const lons = bruxellesContour.map(c => c[1]);
  const lats = bruxellesContour.map(c => c[0]);
  const lonMin = Math.min(...lons);
  const lonMax = Math.max(...lons);
  const latMin = Math.min(...lats);
  const latMax = Math.max(...lats);

  function scaleX(lon) {
    return padding + ((lon - lonMin) / (lonMax - lonMin)) * (width - 2 * padding);
  }
  function scaleY(lat) {
    // inversion Y pour que le nord soit en haut
    return padding + (height - 2 * padding) - ((lat - latMin) / (latMax - latMin)) * (height - 2 * padding);
  }

  // --- Relief progressif ---
  const layers = 3;
  const offsetStep = 1.2;
  const contourColor = '#969695';

  for (let i = layers; i > 0; i--) {
    const layer = document.createElementNS(svgNS, 'polygon');
    layer.setAttribute('fill', 'none');
    layer.setAttribute('stroke', contourColor);
    layer.setAttribute('stroke-width', 0.9);
    layer.setAttribute('stroke-linejoin', 'round');
    layer.setAttribute('stroke-opacity', 0.15 * i);
    layer.setAttribute(
      'points',
      bruxellesContour.map(c =>
        (scaleX(c[1]) + i * offsetStep) + ',' + (scaleY(c[0]) + i * offsetStep)
      ).join(' ')
    );
    layer.setAttribute('vector-effect', 'non-scaling-stroke');
    svg.appendChild(layer);
  }

  // --- Contour principal ---
  const polygon = document.createElementNS(svgNS, 'polygon');
  polygon.setAttribute('fill', 'none');
  polygon.setAttribute('stroke', contourColor);
  polygon.setAttribute('stroke-width', '0.6');
  polygon.setAttribute('stroke-linejoin', 'round');
  polygon.setAttribute('vector-effect', 'non-scaling-stroke');
  polygon.setAttribute(
    'points',
    bruxellesContour.map(c => scaleX(c[1]) + ',' + scaleY(c[0])).join(' ')
  );
  svg.appendChild(polygon);

  // --- Points int√©rieurs ---
  bruxellesInterior.forEach(c => {
    const x = scaleX(c[1]);
    const y = scaleY(c[0]);
    const size = 3;
    const diamond = document.createElementNS(svgNS, 'polygon');
    diamond.setAttribute('points', `
      ${x},${y-size}
      ${x+size},${y}
      ${x},${y+size}
      ${x-size},${y}
    `);
    diamond.setAttribute('fill', 'none');
    diamond.setAttribute('stroke', '#ccbb5a');
    diamond.setAttribute('stroke-width', '1');
    diamond.setAttribute('stroke-linejoin', 'round');
    svg.appendChild(diamond);
  });
}
*/


/*
// --- Select city -> Map: Brussels ---

const bruxellesContour = [
  [50.897838, 4.377298],
  [50.902392, 4.344199],
  [50.900750, 4.327877],
  [50.893973, 4.312415],
  [50.889656, 4.293477],
  [50.880728, 4.297330],
  [50.870691, 4.284429],
  [50.866247, 4.278776],
  [50.860285, 4.281114],
  [50.855783, 4.289664],
  [50.854185, 4.283001],
  [50.837543, 4.281821],
  [50.835917, 4.258190],
  [50.825902, 4.253997],
  [50.819764, 4.243681],
  [50.817496, 4.245000],
  [50.817085, 4.256735],
  [50.811082, 4.261090],
  [50.812229, 4.273701],
  [50.808397, 4.276143],
  [50.812222, 4.299704],
  [50.812324, 4.305595],
  [50.803639, 4.301175],
  [50.799089, 4.305103],
  [50.795488, 4.317261],
  [50.775451, 4.330906],
  [50.773641, 4.340649],
  [50.775478, 4.345166],
  [50.768587, 4.382710],
  [50.763681, 4.383142],
  [50.793553, 4.482248],
  [50.808672, 4.447815],
  [50.818897, 4.459151],
  [50.820568, 4.476968],
  [50.835620, 4.465399],
  [50.837835, 4.468433],
  [50.852329, 4.461708],
  [50.863419, 4.426335],
  [50.868019, 4.421486],
  [50.877840, 4.428538],
  [50.878911, 4.436795],
  [50.891065, 4.427108],
  [50.894867, 4.432491],
  [50.907473, 4.413091],
  [50.911571, 4.414397],
  [50.914253, 4.403035],
  [50.910627, 4.393672],
  [50.909910, 4.387689],
  [50.897407, 4.378014]
];

const bruxellesInterior = [
  [50.847886, 4.351187],
  [50.882791, 4.327702],
  [50.875713, 4.304439],
  [50.865721, 4.291617],
  [50.863093, 4.329683],
  [50.856711, 4.309934],
  [50.830774, 4.302340],
  [50.818363, 4.328158],
  [50.827020, 4.344418],
  [50.824415, 4.373052],
  [50.796912, 4.364271],
  [50.802678, 4.412690],
  [50.832807, 4.391470],
  [50.830684, 4.431618],
  [50.847373, 4.434946],
  [50.872396, 4.405943],
  [50.860920, 4.380985],
  [50.851763, 4.372782]
];


*/

  
// Video Modal
function closeModal(id){
  const modal = document.getElementById(id);
  modal.style.display = 'none';
  document.body.style.overflow = 'auto';
  document.querySelector('main').classList.remove('blur-background');

  if(id==='videoModal'){
    const iframe = document.getElementById('smartInVideo');
    iframe.src = iframe.src;
  }
}

  

// --- FONCTION CHANGEMENT LANGUE ---

  function setLanguage(lang) {
  const dict = translations[lang];
  if (!dict) return;

  Object.keys(dict).forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;

    // Si la traduction contient du HTML (multilignes)
    if (el.dataset && el.dataset.html === "true") {
      el.innerHTML = dict[id];
    } 
    // Texte simple
    else {
      el.textContent = dict[id];
    }
  });

  // √âtat visuel FR / EN
  document.getElementById('fr-btn')?.classList.toggle('active', lang === 'fr');
  document.getElementById('en-btn')?.classList.toggle('active', lang === 'en');

  // Attribut HTML <html lang="">
  document.documentElement.lang = lang;
}



// --- Event listeners sur les boutons FR / EN ---
document.getElementById('fr-btn').addEventListener('click', () => {
  setLanguage('fr');
  document.getElementById('fr-btn').classList.add('active');
  document.getElementById('en-btn').classList.remove('active');
});

document.getElementById('en-btn').addEventListener('click', () => {
  setLanguage('en');
  document.getElementById('en-btn').classList.add('active');
  document.getElementById('fr-btn').classList.remove('active');
});



  
// --- EMAILJS ---


// --- Function ---
  
  (function(){
    emailjs.init("Y9G1UYj9VZqrRmSG1");
  })();

  
// --- Email ---

document.getElementById('btn-send-summary').addEventListener('click', function () {

  const templateParams = {
    contact: contactInfoSmartIn.value || '-',
    addresses: addressInput.value || '-',
    project: projectDetails.value || '-',
    goals: [...document.querySelectorAll('.goal:checked')]
              .map(g => g.parentElement.textContent.trim())
              .join(', ') || '-',
    themes: [...document.querySelectorAll('.theme:checked')]
              .map(t => t.parentElement.textContent.trim())
              .join(', ') || '-',
    city: citySelect.value || '-'
  };

  emailjs.send(
    'service_41z5e5b',
    'template_9s39ygw',
    templateParams
  )
  .then(() => {
    alert('Succes ‚úÖ');
  })
  .catch(err => {
    console.error('EmailJS error:', err);
    alert('Error ‚ùå');
  });
});
;




// --- Dictionnaire de traduction ---
  
const translations = {
  fr: {
    "about-text": "Nous d√©veloppons des solutions digitales uniques, r√©pondant √† des besoins concrets, √† partir de donn√©es √† forte valeur ajout√©e.",
    "menu-about": "√Ä PROPOS",
    "locationBtn": "SMART-IN",
 

  "locationContentInnerText": "Smart-In est une plateforme d‚Äôanalyse territoriale, con√ßue pour accompagner entrepreneurs et investisseurs dans le choix d‚Äôun emplacement commercial ainsi que dans l‚Äôanalyse de la coh√©rence de projets immobiliers.\n\nNous analysons notamment l‚Äôad√©quation du projet avec son environnement socio-√©conomique, identifions les concurrents et les clients potentiels, et √©tudions le march√© immobilier ainsi que son √©volution, en tenant compte de l'impact des projets urbains et immobiliers.",
     
    "discoverSmartIn": "D√©couvrir Smart-In",
    //"presentationSmartIn": "Vid√©o",
    "offices-link": "Bureaux: Bruxelles, Paris, Monaco",
    "offices": "Bureaux",






 "offices-list": "21 Avenue du Boulevard, Bruxelles (Financial District)\n\n7 Rue Meyerbeer, Paris (Op√©ra Garnier)\n\n74 Boulevard d'Italie, Monaco (Monte Carlo)",




  
    "contact-text": "Contactez-nous",
    "contact-text2": "Nous √©coutons attentivement vos besoins afin de vous proposer une solution pr√©cise et adapt√©e.",
    "btn-send": "Envoyer",
    "our-media": "Nos r√©seaux",
    "presentation-title":"Pr√©sentation Smart-In",

    "smartin-title":"Smart-In: Formulaire de Contact",

        "contactInfo-label": "Coordonn√©es de contact",
"contactInfoSmartIn":"Vos coordonn√©es de contact (email et/ou mobile)",

"addressInput":"Adresse(s) √† analyser (max. 3)",

    "project-description":"D√©crivez votre projet",
"projectDetails":"D√©crivez votre projet",

"maingoal-label":"Objectif principal de l'√©tude",

"selectmaingoal":"√âtude du milieu socio-√©conomique",
"selectmaingoa2":"√âtude des concurrents",
"selectmaingoa3":"Identification des clients potentiels",
"selectmaingoa4":"Compr√©hension du march√© immobilier et de ses dynamiques",

"theme-label":"Th√®mes √† √©tudier (liste non exhaustive)",

"theme1":"Profil de la population: revenus, type d‚Äôoccupation, cultures, √¢ges",
"theme2":"Tissu √©conomique: performances et typologie des entreprises",
"theme3":"March√© immobilier: transactions, prix, impact des projets urbains",
"theme4":"Qualit√© de vie: espaces verts, pollution de l‚Äôair et sonore, s√©curit√©",




    
"summary-title": "R√©sum√©",
"summaryContent": "En attente...",

"city-brussels": "Bruxelles",

"btn-send-summary": "Envoyer",

    "approach-title":"Notre approche",

    
"approach-content":"1. Comprendre votre besoin\n2. Plan d'action pr√©cis\n3. Ex√©cution efficace"
 

  },



  
  en: {
    "about-text": "We turn high-value data into unique digital solutions that solve real challenges.",
    "menu-about": "ABOUT",
    "locationBtn": "SMART-IN",





"locationContentInnerText": "Smart-In is a territorial analysis platform designed to support entrepreneurs and investors in the selection of commercial locations as well as in the assessment of the coherence of real estate projects.\n\nWe analyze the alignment of each project with its socio-economic environment, identify competitors and potential customers, and study the real estate market and its evolution, taking into account the impact of urban and real estate development projects.",



    
    "discoverSmartIn": "Discover Smart-In",
   // "presentationSmartIn": "Video",

"offices-link": "Offices: Brussels, Paris, Monaco",
    "offices": "Offices",


     "offices-list": "21 Avenue du Boulevard, Brussels (Financial District)\n\n7 Rue Meyerbeer, Paris (Op√©ra Garnier)\n\n74 Boulevard d'Italie, Monaco (Monte Carlo)",


    
      
    "contact-text": "Contact Us",
    "contact-text2": "We carefully listen to your needs to provide you with a precise and adapted solution.",
    "btn-send": "Send",
    "our-media": "Our Media",


"presentation-title":"Presentation Smart-In",

    "smartin-title":"Smart-In: Contact Form",

    "contactInfo-label": "Contact details",
"contactInfoSmartIn":"Your contact details (email and/or mobile)",

"addressInput":"Address(es) to analyze (max. 3)",


    "project-description":"Describe your project",
"projectDetails":"Describe your project",



"maingoal-label":"Main objective of the study",

"selectmaingoal":"Socio-economic environment study",
"selectmaingoa2":"Competitor analysis",
"selectmaingoa3":"Identification of potential customers",
"selectmaingoa4":"Understanding the real estate market and its dynamics",

"theme-label":"Themes to be studied (non-exhaustive list)",

"theme1": "Population profile: income, occupancy type, cultures",
"theme2": "Economic fabric: business performance and typology",
"theme3": "Real estate market: transactions, prices, impact of urban projects",
"theme4": "Quality of life: green spaces, air and noise pollution, safety",



    
"summary-title":"Summary",
"summaryContent":"No data yet...",


"select-city-label":"City to analyze",
"select-city-placeholder":"Select a city",
"city-brussels":"Brussels",

"btn-send-summary":"Send",

    "approach-title":"Our Approach",

      
"approach-content": "1. Understand your need\n2. Precise action plan\n3. Effective execution"

    
    
  }
};

  


</script>
</body>
</html>




