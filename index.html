<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
:root{ --bg:#000000; --overlay: rgba(0,0,0,0.85); --panel:#0e0e0e; --panel-2:#151515; --border:#2a2a2a; --gold:#c9a24d; --text:#ffffff; --muted:#b5b5b5; }
*{ box-sizing:border-box; border-radius: 16px; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; }
body{ background:var(--bg); color:var(--text); min-height:100vh; display:flex; flex-direction:column; }
/* HEADER */
header{ display:flex; justify-content:space-between; padding:15px; z-index:20; position:relative; }
.lang { display: inline-flex; align-items: center; justify-content: center; height: 28px; border: 1px solid var(--border); padding: 4px 12px; border-radius: 4px; font-size: 14px; line-height: 1; background-color: #000; }
.lang span{ cursor:pointer; margin: 0 4px; }
.lang .active{ color: var(--gold); }
/* MAIN */
main{ flex:1; display:flex; flex-direction:column; align-items:center; position:relative; padding:20px; overflow:hidden; }
/* VANTA BG */
#vanta-bg{ position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }
.menu, .panel, .modal { position: relative; z-index: 10; }
/* MENU */
.menu{ display:flex; gap:40px; position:absolute; top:23%; left:50%; transform:translateX(-50%); z-index:10; }
.menu button{ background:none; border:none; color:var(--text); font-size:18px; cursor:pointer; font-weight: 600; }
.menu button:hover{color:var(--gold);}
/* PANELS */
.panel{ display:none; position:absolute; top:calc(20% + 50px); left:50%; transform:translateX(-50%); background:var(--panel); border:1px solid var(--border); padding:20px; max-width:600px; width:100%; z-index:15;  color: #ffffff;  }
.panel h3{ color:var(--gold); margin-bottom:10px; cursor:pointer; }
.panel p{ font-size:14px; line-height:1.6;  }
.sub{display:none;margin-top:10px;}
/* FOOTER */
.footer-line{ height:1px; background:var(--border); }
.footer-content{ display:flex; justify-content:space-around; padding:10px; font-size:13px; }
.footer-content span{cursor:pointer;}
/* MODAL */
.modal{ display:none; position:fixed; inset:0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(1px); z-index:9999; justify-content:center; align-items:center; }
.modal-content{ background:var(--panel-2); border:1px solid var(--border); padding:20px; max-width:600px; width:100%; position:relative; }
.modal-content h4{ color:var(--gold); margin-bottom:10px; }
.modal-content p{ font-size:13px; color:var(--muted); margin-bottom:12px; }
.modal-content input, .modal-content textarea{ width:100%; margin-bottom:10px; background:#000; border:1px solid var(--border); color:#fff; padding:8px; }
.close{ position:absolute; top:8px; right:10px; cursor:pointer; }
/* BUTTONS */
.btn-linkedin, .btn-instagram, .btn-send, .btn-video, .btn-smartin
  { display: inline-block; margin-top: 12px; padding: 8px 16px; background-color: #555; color: #fff; 
   text-decoration: none; font-weight: 400; font-size: 12px; border-radius: 6px; transition: color 0.3s, background 0.3s; border: none; cursor: pointer; }
.blur-background { filter: blur(1px); }
.brand { position: relative; display: flex; flex-direction: column; align-items: flex-start; }
.brand h1 { color: var(--gold); font-size: 15px; letter-spacing: 1px; z-index: 1; }
.brand .logo { position: absolute; top: 20px; left: 0; width: 160px; height: auto; border-radius: 0; z-index: 0; }


  

.modal-smartin-content{
  width:95%;
  max-width:1200px;
  height:90vh;
  display:flex;
  flex-direction:column;
}

.smartin-layout{
  display:flex;
  gap:20px;
  flex:1;
  overflow:hidden;
}

.smartin-left, .smartin-right{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow-y:auto;
  padding: 10px; /* <-- ajoute de l'espace pour ne pas coller aux bords */


}


.map-mock{
  height:180px;
  border:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
}

.summary-box{
  border:1px solid var(--border);
  padding:12px;
  margin-top:10px;
  flex:1;
  overflow-y:auto;
}


.mapPreview {
  width: 220px;      /* largeur du SVG (carte) */
  height: 220px;     /* hauteur du SVG */
  border: none ;
  margin: 12px auto; /* centre le conteneur */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 7px;     /* <-- espace autour du SVG */
  box-sizing: content-box; /* padding ajouté autour du contenu */
}


.smartin-left {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 10px;
  flex: 1;
  min-height: 300px;      /* hauteur minimum de la colonne */
  overflow-y: auto;        /* scroll si trop de contenu */
}

#projectDetails {
  flex: 1;                 /* prend tout l’espace restant de la colonne */
  min-height: 100px;       /* hauteur minimum */
  resize: vertical;        /* permet d’agrandir verticalement */
  width: 100%;
  box-sizing: border-box;
}




  

/* Tout le label reste flex vertical/espacé */
.themes {
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
}



.theme-subtitle {
  font-weight: 400;
  font-size: 0.95rem;
  color: #ffffff;
  margin-top: 20px;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}


  
/* Chaque label : alignement horizontal checkbox + texte */
.themes label {
  display: flex;
  align-items: center;   /* centre checkbox et texte verticalement */
  gap: 8px;              /* espace entre la checkbox et le texte */
}

/* Cibler uniquement les checkboxes */
.themes input[type="checkbox"] {
  width: 18px;      /* largeur de la checkbox */
  height: 18px;     /* hauteur de la checkbox */
  accent-color: var(--gold); /* couleur de la coche si navigateur le supporte */
  flex-shrink: 0;   /* ne pas rétrécir */
}






#discoverSmartIn:hover {
  background-color: var(--gold);
  color: #000;
}



/* Harmonisation Goals / Themes */
.selectgoals {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.selectgoals label {
  display: flex;
  align-items: center;
  gap: 8px;
}

.selectgoals input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--gold);
  flex-shrink: 0;
}

  .selectgoals {
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 12px;
}


/* SMART-IN active / hover state */
#locationBtn:hover{
  background-color: var(--gold);
  color: #000
}



/* Par défaut, le message est caché */
#mobileMessage {
  display: none;
  text-align: center;
  color: var(--text);
  background-color: var(--panel);
  border: 1px solid var(--border);
  padding: 20px;
  max-width: 500px;
  border-radius: 12px;
  font-size: 16px;
  line-height: 1.5;
}

/* Mobile / tablet small screens */
@media (max-width: 768px) {
  /* Affiche le message */
  #mobileMessage {
    display: block;
    position: fixed;
    inset: 0; /* top:0; right:0; bottom:0; left:0 */
    display: flex;
    justify-content: center; /* horizontal */
    align-items: center;     /* vertical */
    margin: 0;
    padding: 20px;
    z-index: 9999;
  }

  /* Masquer le reste du site */
  main, header, footer {
    display: none;
  }
}
</style>
</head>
<body>
<header>
  <div class="brand">
    <img src="images/vadiliondigital_logo.png" alt="Logo Vadilion Digital" class="logo">
  </div>
  <div class="lang">
    <span class="active" id="fr-btn">FR</span>|<span id="en-btn">EN</span>
  </div>



<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P0VXRKH12S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P0VXRKH12S');
</script>

  
</header>
<main>
  <div id="vanta-bg"></div>
<div class="menu">
<button id="menu-about" onclick="togglePanel('about')">À PROPOS</button>
  <button onclick="togglePanel('solutions')">SOLUTIONS</button>
</div>





  

<div class="panel" id="about">
  <div id="about-text" style="text-align: left;">
    <p>Nous développons des solutions digitales uniques, répondant à des besoins concrets, à partir de données à forte valeur ajoutée.</p>
  </div>
</div>

<div class="panel" id="solutions">
  <div id="solutions-text">
    <div style="text-align: left;">

      <!-- Bouton Location Intelligence -->
      <button id="locationBtn" class="btn-smartin" style="width:auto; text-align:left; font-weight:500;">SMART-IN</button>

      <!-- Contenu déroulant caché par défaut -->
      <div id="locationContentText" style="display:block; margin-top:12px; border:2px solid var(--border); padding:10px 12px;">
          <div id="locationContentInnerText">
          <p>
Nous accompagnons entrepreneurs et investisseurs
dans leurs projets commerciaux et immobiliers
en apportant une étude de marché indépendante et transparente,
afin de réduire les risques avant tout engagement de capital.

À travers Smart-In, notre plateforme interne,
nous exploitons une large base de données
capable de fournir les informations essentielles
à la réussite de vos projets.        </p>

          </div>
        

        <div class="btn-flex" style="margin-top:20px; display:flex; justify-content:center; gap:12px;">
          <button id="discoverSmartIn" class="btn-send">Découvrir Smart-In</button>
         <!-- <button id="presentationSmartIn" class="btn-video">Video</button>-->
        </div>
      </div>

    </div>
  </div>
</div>


</main>
<footer>
  <div class="footer-line"></div>
  <div class="footer-content">
<span id="offices-link" onclick="openModal('officeModal')">Bureaux: Bruxelles, Paris, Monaco</span>
    <span onclick="openModal('contactModal')">Contact</span>
    <span onclick="openModal('mediaModal')">Media</span>
  </div>
</footer>
<div class="modal" id="contactModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('contactModal')">✕</span>
    <h4 id="contact-text">Contactez-nous</h4>
    <p id="contact-text2">Nous écoutons attentivement vos besoins afin de vous proposer une solution précise et adaptée.</p>
    <input id="contact-name" placeholder="Nom" required>
    <input id="contact-info" placeholder="Coordonnées de contact" required>
    <textarea id="contact-message" placeholder="Comment pouvons nous vous aider?" maxlength="999" required></textarea>
    <button id="btn-send" class="btn-send">Envoyer</button>
  </div>
</div>
<div class="modal" id="mediaModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('mediaModal')">✕</span>
    <h4 id="our-media">Nos réseaux</h4>
    <a href="https://www.linkedin.com/company/vadiliondigital" target="_blank" class="btn-linkedin">LinkedIn</a>
    <a href="https://www.instagram.com/vadilion.digital" target="_blank" class="btn-instagram">Instagram</a>
  </div>
</div>
<div class="modal" id="officeModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('officeModal')">✕</span>
    <h4 id="offices">Offices</h4>
    <p id="offices-list">
      21 Avenue du Boulevard, Bruxelles (Financial District)<br><br>
      7 Rue Meyerbeer, Paris (Opéra Garnier)<br><br>
      74 Boulevard d'Italie, Monaco (Monte Carlo)
    </p>
  </div>
</div>
<div class="modal" id="videoModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('videoModal')">✕</span>
<h4 id="presentation-title">Presentation Smart-In</h4>
    <div style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden;">
      <iframe id="smartInVideo" src="https://www.youtube.com/embed/VqEbCxg2bNI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position:absolute; top:0; left:0; width:100%; height:100%;"></iframe>
    </div>
  </div>
</div>




<div class="modal modal-smartin" id="smartInModal">
  <div class="modal-content modal-smartin-content">

    <span class="close" onclick="closeModal('smartInModal')">✕</span>

<h3 id="smartin-title" style="color:var(--gold); margin-bottom:12px;">Smart-In: Formulaire de Contact</h3>

    <div class="smartin-layout">

      <!-- LEFT -->
      <div class="smartin-left">

        <label id="contactInfo-label">Coordonnées de contact</label>
<input id="contactInfoSmartIn" placeholder="email / mobile">



 <label id="address-label">Adresse à analyser</label>
<input id="addressInput" placeholder="Maximum 3 adresses séparés par une virgule">
  
       

<label id="project-description">Décrivez votre projet</label>
<textarea id="projectDetails" rows="10" placeholder="Donnez un maximum d'information utilse afin que nos équipes puisses vous proposer 
  la meilleure solution possible"></textarea>


<label id="maingoal-label">Sélectionnez le principal objectif de l'étude</label>


<div class="selectgoals">


  <label>
  <input type="checkbox" id="selectAllGoalsCheckbox">
  <span id="selectAllGoals">Sélectionner tout</span>
</label>


<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoal">
    Analyse de la cohérence du projet dans son milieu socioéconomique
  </span>
</label>

<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoa2">
    Étude des concurrents
  </span>
</label>

<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoa3">
    Étude des clients potentiels
  </span>
</label>

<label>
  <input type="checkbox" class="goal">
  <span id="selectmaingoa4">
    Connaitre les essentiels du marché immobilier
  </span>
</label>


</div>

    

<label id="theme-label">Sélectionnez les thèmes à analyser</label>
<div class="themes">

<label>
  <input type="checkbox" id="selectAllThemesCheckbox">
  <span id="selectAllThemes">Sélectionner tout</span>
</label>


<div class="theme-subtitle" id="subtitle-real-estate-essentials">Les essentiels du marché immobilier</div>


<label>
  <input type="checkbox" class="theme">
  <span id="theme-global-real-estate-sales">
    Ventes par type de bien
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-parc-immobilier">
    Parc immobilier (social, résidentiel)
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-loyer-moyen">
    Loyer moyen
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-nb-appartements">
    Nombre d'appartements vendus
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-nombre-maisons-vendus">
    Nombre de maisons vendues
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-prix-median-appartements">
    Prix médian appartements
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-prix-median-maisons">
    Prix médian maisons
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-urban-real-estate-projects">
    Urban & Real Estate projects
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-m2-price">
    M2 price
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-gentrification">
    Gentrification
  </span>
</label>



<div class="theme-subtitle">Security Statistics</div>
          
<label>
  <input type="checkbox" class="theme">
  <span id="theme-vols">Vols</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-coups-blessures">Coups / Blessures</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-drogues">Drogues</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-alcool">Alcool</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-armes">Armes</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-secu-publiq-2024">
    Atteinte Sécurité Publique
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-degradat-prop">
    Dégradations de propriété
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-cambriolages">Cambriolages</span>
</label>

  
<div class="theme-subtitle">SocioEconomics</div>
<div class="theme-subtitle">Socio</div>
  
<label>
  <input type="checkbox" class="theme">
  <span id="theme-densite">Densité</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-18-64-ans">% 18-64 ans</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-solde-migratoire">Solde migratoire</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-croissance-annuelle">Croissance annuelle</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-population-immigree">% Population immigrée</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-taux-natalite">Taux natalité</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-cultural-composition">Cultural Composition</span>
</label>


<div class="theme-subtitle">Economics</div>
  
<label>
  <input type="checkbox" class="theme">
  <span id="theme-revenu-median">Revenu médian</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-taux-emploi">Taux emploi</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-taux-par-type-occupation">Taux par type d'occupation</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-taux-chomage">Taux chômage</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-taux-grapa-65">Taux GRAPA 65+</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-naissances-sans-revenu-travail">
    Naissances sans revenu de travail
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-naissances-meres-etrangeres">
    Naissances mères étrangères
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-taux-retard-scolaire">Taux retard scolaire</span>
</label>

          
<div class="theme-subtitle">Economy</div>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-sieges-sociaux">Sièges sociaux</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-etablissements">Établissements</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-solde-migration-entreprises">
    Solde migration entreprises
  </span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-secteurs-economiques-majeurs">
    Secteurs économiques majeurs
  </span>
</label>



<div class="theme-subtitle">Quality of Life</div>
  

<label>
  <input type="checkbox" class="theme">
  <span id="theme-espaces-verts">Espaces verts</span>
</label>

<label>
  <input type="checkbox" class="theme">
  <span id="theme-pollution-air-noise">Pollution (air, noise)</span>
</label>





        </div>

      </div>

      <!-- RIGHT -->
      <div class="smartin-right">


<div class="summary-box">
  <h4 id="summary-title">Résumé</h4>
  <div id="summaryContent">En attente...</div>
</div>

<label id="select-city-label">Sélectionnez une ville</label>
<select id="citySelect">
  <option id="select-city-placeholder" value="">Sélectionner une ville</option>
  <option value="Brussels" id="city-brussels">Bruxelles</option>
</select>


<div id="mapPreview" class="mapPreview"></div>




        <button id="btn-send-summary" class="btn-send" onclick="sendSmartIn()">Envoyer</button>


      </div>

    </div>
  </div>
</div>


<!-- Message pour mobile / tablette petite -->
<div id="mobileMessage">
  Mobile version in development, please visit the website from your PC.
</div>








<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.dots.min.js"></script>

  
<script>

let vantaEffect = VANTA.DOTS({ el:"#vanta-bg", mouseControls:true, touchControls:true, gyroControls:false, minHeight:200, minWidth:200, 
                              scale:1.0, scaleMobile:1.0, color:0xcffb7, color2:0x5520ff, backgroundColor:0x0, size:3.2, spacing:24, showLines:false });


// SOLUTIONS -> SMART-IN BUTON -> DÉROULEMENT SOUS-MENU


const locationBtn = document.getElementById('locationBtn');
const locationContentText = document.getElementById('locationContentText');
let locationOpen = false;

  // Fonction pour ouvrir/fermer au clic
locationBtn.addEventListener('click', () => {
  locationOpen = !locationOpen;
  locationContentText.style.display = locationOpen ? 'block' : 'none';
});

  // Fonction pour ouvrir au survol
locationBtn.addEventListener('mouseenter', () => {
  locationContentText.style.display = 'block';
  locationOpen = true;
});

// On ne ferme pas au mouseleave, fermeture uniquement au clic sur locationBtn




// SMART-IN BUTON -> DÉROULEMENT SOUS-MENU; Boutons Discover Smart-In et  Video

// document.getElementById('presentationSmartIn').addEventListener('click', () => openModal('videoModal'));

  


// DISCOVER SMART-IN -> SMART-IN CONTACT FORM
  

const discoverBtn = document.getElementById('discoverSmartIn');
  

let smartInHoverTimeout = null;

discoverBtn.addEventListener('mouseenter', () => {
  
  // Ne rien faire si le modal est déjà ouvert
  
  if (document.getElementById('smartInModal').style.display === 'flex') return;

  // Délai pour éviter les ouvertures accidentelles
  
  smartInHoverTimeout = setTimeout(() => {
    openModal('smartInModal');
  }, 250);
});

discoverBtn.addEventListener('mouseleave', () => {
  clearTimeout(smartInHoverTimeout);
});


// --- Menu hover / click logic (About & Solutions) ---
const menuButtons = document.querySelectorAll('.menu button');
const panels = document.querySelectorAll('.panel');

menuButtons.forEach(btn => {
  // Récupérer l'ID du panel à partir de l'attribut onclick existant
  const panelIdMatch = btn.getAttribute('onclick')?.match(/'(\w+)'/);
  if(!panelIdMatch) return;
  const panel = document.getElementById(panelIdMatch[1]);

  // Hover : ouvre le panel et ferme les autres
  btn.addEventListener('mouseenter', () => {
    panels.forEach(p => { if(p !== panel) p.style.display = 'none'; });
    panel.style.display = 'block';
  });

  // Click : toggle uniquement ce panel
  btn.addEventListener('click', () => {
    panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
  });
});

// **Plus besoin de ce listener, on le supprime**
// document.addEventListener('mousemove', ...);



  
const citySelect = document.getElementById('citySelect');
const addressInput = document.getElementById('addressInput');
const projectDetails = document.getElementById('projectDetails');
const contactInfoSmartIn = document.getElementById('contactInfoSmartIn');
const summaryContent = document.getElementById('summaryContent');
const selectAllGoals = document.getElementById('selectAllGoals');



// THEMES

const selectAllThemesCheckbox = document.getElementById('selectAllThemesCheckbox');
const themeCheckboxes = document.querySelectorAll('.theme');

// Select All Themes → coche toutes les themes
selectAllThemesCheckbox.addEventListener('change', () => {
  themeCheckboxes.forEach(cb => cb.checked = selectAllThemesCheckbox.checked);
  updateSummary();
});

// Si un theme individuel change → met à jour Select All
themeCheckboxes.forEach(cb => {
  if(!cb.id){ // ignore le checkbox SelectAll
    cb.addEventListener('change', () => {
      const allChecked = [...themeCheckboxes].every(t => t.checked);
      selectAllThemesCheckbox.checked = allChecked;
      updateSummary();
    });
  }
});


const selectAllGoalsCheckbox = document.getElementById('selectAllGoalsCheckbox');
const goalCheckboxes = document.querySelectorAll('.goal');

// --- GOALS ---

// Select all goals → coche toutes les goals
selectAllGoalsCheckbox.addEventListener('change', () => {
  goalCheckboxes.forEach(cb => cb.checked = selectAllGoalsCheckbox.checked);
  updateSummary();
});

// Si une goal change → met à jour Select All
goalCheckboxes.forEach(cb => {
  cb.addEventListener('change', () => {
    const allChecked = [...goalCheckboxes].every(g => g.checked);
    selectAllGoalsCheckbox.checked = allChecked;
    updateSummary();
  });
});




  
  
  // --- Summary Update Function ---

  function updateSummary(){

  const contact = contactInfoSmartIn.value;
  const addresses = addressInput.value;
  const project = projectDetails.value;



  const goals = [...document.querySelectorAll('.goal:checked')]
    .filter(t => t.id !== 'selectAllGoals')
    .map(t => t.parentElement.textContent.trim());
    
    
  const themes = [...document.querySelectorAll('.theme:checked')]
    .filter(t => t.id !== 'selectAllThemes')
    .map(t => t.parentElement.textContent.trim());

  const city = citySelect.value;

 
  summaryContent.innerHTML = `
    <b>Contact info:</b> ${contact || '-'}<br>
    <b>Addresses:</b> ${addresses || '-'}<br>
    <b>About your project:</b> ${project || '-'}<br>
    <b>Main goals:</b> ${goals.join(', ') || '-'}<br>
    <b>Themes:</b> ${themes.join(', ') || '-'}<br>
    <b>City:</b> ${city || '-'}<br>
  `;
}


  ['contactInfoSmartIn', 'addressInput', 'projectDetails', 'citySelect']
.forEach(id => document.getElementById(id).addEventListener('input', updateSummary));



  
  // --- Select city -> Map ---


  function openModal(id){
  const modal = document.getElementById(id);
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  document.querySelector('main').classList.add('blur-background');

  // supprime l’ancienne carte à chaque ouverture
  if(id === 'smartInModal'){
    const container = document.getElementById('mapPreview');
    container.innerHTML = '';
  }
}

  citySelect.addEventListener('change', () => {
  const container = document.getElementById('mapPreview');
  container.innerHTML = ''; // supprime l’ancienne carte ou placeholder

  // si la ville sélectionnée est Brussels ET que le modal est ouvert
  if(citySelect.value === "Brussels" && document.getElementById('smartInModal').style.display === 'flex'){
    requestAnimationFrame(drawPreMap); // dessine la carte
  }
});




// --- Select city -> Map Function ---

function drawPreMap() {
  const container = document.getElementById('mapPreview');
  container.innerHTML = ''; // supprime le placeholder

  const width = container.offsetWidth;
  const height = container.offsetHeight;

  const padding = 15; // espace autour de la carte

  const svgNS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(svgNS, 'svg');
  svg.setAttribute('width', '100%');
  svg.setAttribute('height', '100%');
  container.appendChild(svg);

  // Normalisation
  const lons = bruxellesContour.map(c => c[1]);
  const lats = bruxellesContour.map(c => c[0]);
  const lonMin = Math.min(...lons);
  const lonMax = Math.max(...lons);
  const latMin = Math.min(...lats);
  const latMax = Math.max(...lats);

  function scaleX(lon) {
    return padding + ((lon - lonMin) / (lonMax - lonMin)) * (width - 2 * padding);
  }
  function scaleY(lat) {
    // inversion Y pour que le nord soit en haut
    return padding + (height - 2 * padding) - ((lat - latMin) / (latMax - latMin)) * (height - 2 * padding);
  }

  // --- Relief progressif ---
  const layers = 3;
  const offsetStep = 1.2;
  const contourColor = '#969695';

  for (let i = layers; i > 0; i--) {
    const layer = document.createElementNS(svgNS, 'polygon');
    layer.setAttribute('fill', 'none');
    layer.setAttribute('stroke', contourColor);
    layer.setAttribute('stroke-width', 0.9);
    layer.setAttribute('stroke-linejoin', 'round');
    layer.setAttribute('stroke-opacity', 0.15 * i);
    layer.setAttribute(
      'points',
      bruxellesContour.map(c =>
        (scaleX(c[1]) + i * offsetStep) + ',' + (scaleY(c[0]) + i * offsetStep)
      ).join(' ')
    );
    layer.setAttribute('vector-effect', 'non-scaling-stroke');
    svg.appendChild(layer);
  }

  // --- Contour principal ---
  const polygon = document.createElementNS(svgNS, 'polygon');
  polygon.setAttribute('fill', 'none');
  polygon.setAttribute('stroke', contourColor);
  polygon.setAttribute('stroke-width', '0.6');
  polygon.setAttribute('stroke-linejoin', 'round');
  polygon.setAttribute('vector-effect', 'non-scaling-stroke');
  polygon.setAttribute(
    'points',
    bruxellesContour.map(c => scaleX(c[1]) + ',' + scaleY(c[0])).join(' ')
  );
  svg.appendChild(polygon);

  // --- Points intérieurs ---
  bruxellesInterior.forEach(c => {
    const x = scaleX(c[1]);
    const y = scaleY(c[0]);
    const size = 3;
    const diamond = document.createElementNS(svgNS, 'polygon');
    diamond.setAttribute('points', `
      ${x},${y-size}
      ${x+size},${y}
      ${x},${y+size}
      ${x-size},${y}
    `);
    diamond.setAttribute('fill', 'none');
    diamond.setAttribute('stroke', '#ccbb5a');
    diamond.setAttribute('stroke-width', '1');
    diamond.setAttribute('stroke-linejoin', 'round');
    svg.appendChild(diamond);
  });
}




// --- Select city -> Map: Brussels ---

const bruxellesContour = [
  [50.897838, 4.377298],
  [50.902392, 4.344199],
  [50.900750, 4.327877],
  [50.893973, 4.312415],
  [50.889656, 4.293477],
  [50.880728, 4.297330],
  [50.870691, 4.284429],
  [50.866247, 4.278776],
  [50.860285, 4.281114],
  [50.855783, 4.289664],
  [50.854185, 4.283001],
  [50.837543, 4.281821],
  [50.835917, 4.258190],
  [50.825902, 4.253997],
  [50.819764, 4.243681],
  [50.817496, 4.245000],
  [50.817085, 4.256735],
  [50.811082, 4.261090],
  [50.812229, 4.273701],
  [50.808397, 4.276143],
  [50.812222, 4.299704],
  [50.812324, 4.305595],
  [50.803639, 4.301175],
  [50.799089, 4.305103],
  [50.795488, 4.317261],
  [50.775451, 4.330906],
  [50.773641, 4.340649],
  [50.775478, 4.345166],
  [50.768587, 4.382710],
  [50.763681, 4.383142],
  [50.793553, 4.482248],
  [50.808672, 4.447815],
  [50.818897, 4.459151],
  [50.820568, 4.476968],
  [50.835620, 4.465399],
  [50.837835, 4.468433],
  [50.852329, 4.461708],
  [50.863419, 4.426335],
  [50.868019, 4.421486],
  [50.877840, 4.428538],
  [50.878911, 4.436795],
  [50.891065, 4.427108],
  [50.894867, 4.432491],
  [50.907473, 4.413091],
  [50.911571, 4.414397],
  [50.914253, 4.403035],
  [50.910627, 4.393672],
  [50.909910, 4.387689],
  [50.897407, 4.378014]
];

const bruxellesInterior = [
  [50.847886, 4.351187],
  [50.882791, 4.327702],
  [50.875713, 4.304439],
  [50.865721, 4.291617],
  [50.863093, 4.329683],
  [50.856711, 4.309934],
  [50.830774, 4.302340],
  [50.818363, 4.328158],
  [50.827020, 4.344418],
  [50.824415, 4.373052],
  [50.796912, 4.364271],
  [50.802678, 4.412690],
  [50.832807, 4.391470],
  [50.830684, 4.431618],
  [50.847373, 4.434946],
  [50.872396, 4.405943],
  [50.860920, 4.380985],
  [50.851763, 4.372782]
];


// --- Smart-In Contact Form: Send Button ---

function sendSmartIn(){
alert("Smart-In request sent (mock)");
}


  
// Video Modal
function closeModal(id){
  const modal = document.getElementById(id);
  modal.style.display = 'none';
  document.body.style.overflow = 'auto';
  document.querySelector('main').classList.remove('blur-background');

  if(id==='videoModal'){
    const iframe = document.getElementById('smartInVideo');
    iframe.src = iframe.src;
  }
}

  










  




// --- FONCTION CHANGEMENT LANGUE ---

  function setLanguage(lang) {
  const dict = translations[lang];
  if (!dict) return;

  Object.keys(dict).forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;

    // Si la traduction contient du HTML (multilignes)
    if (el.dataset && el.dataset.html === "true") {
      el.innerHTML = dict[id];
    } 
    // Texte simple
    else {
      el.textContent = dict[id];
    }
  });

  // État visuel FR / EN
  document.getElementById('fr-btn')?.classList.toggle('active', lang === 'fr');
  document.getElementById('en-btn')?.classList.toggle('active', lang === 'en');

  // Attribut HTML <html lang="">
  document.documentElement.lang = lang;
}



// --- Event listeners sur les boutons FR / EN ---
document.getElementById('fr-btn').addEventListener('click', () => {
  setLanguage('fr');
  document.getElementById('fr-btn').classList.add('active');
  document.getElementById('en-btn').classList.remove('active');
});

document.getElementById('en-btn').addEventListener('click', () => {
  setLanguage('en');
  document.getElementById('en-btn').classList.add('active');
  document.getElementById('fr-btn').classList.remove('active');
});




// --- Dictionnaire de traduction ---
  
const translations = {
  fr: {
    "about-text": "Nous développons des solutions digitales uniques, répondant à des besoins concrets, à partir de données à forte valeur ajoutée.",
    "menu-about": "À PROPOS",
    "locationBtn": "SMART-IN",
 



"locationContentInnerText":"Nous accompagnons entrepreneurs et investisseurs dans leurs projets commerciaux et immobiliers en apportant une étude de marché indépendante et transparente, afin de réduire les risques avant tout engagement de capital. À travers Smart-In, notre plateforme interne, nous exploitons une large base de données capable de fournir les informations essentielles à la réussite de vos projets.",
     
    "discoverSmartIn": "Découvrir Smart-In",
    //"presentationSmartIn": "Vidéo",
    "offices-link": "Bureaux: Bruxelles, Paris, Monaco",
    "offices": "Bureaux",






    "offices-list":`
      21 Avenue du Boulevard, Bruxelles (Financial District)<br><br>
      7 Rue Meyerbeer, Paris (Opéra Garnier)<br><br>
      74 Boulevard d'Italie, Monaco (Monte Carlo)
    </p>`,



  
    "contact-text": "Contactez-nous",
    "contact-text2": "Nous écoutons attentivement vos besoins afin de vous proposer une solution précise et adaptée.",
    "btn-send": "Envoyer",
    "our-media": "Nos réseaux",
    "presentation-title":"Présentation Smart-In",

    "smartin-title":"Smart-In: Formulaire de Contact",

        "contactInfo-label": "Coordonnées de contact",
"contactInfoSmartIn":"email / mobile",

    "address-label":"Adresse à analyser",
"addressInput":"Maximum 3 adresses séparés par une virgule",

    "project-description":"Décrivez votre projet",
"projectDetails":"Donnez un maximum d'information utilse afin que nos équipes puisses vous proposer la meilleure solution possible",

"maingoal-label":"Sélectionnez le principal objectif de l'étude",


    
    
"selectAllGoals":"Sélectionner tout",
"selectmaingoal":"Analyse de la cohérence du projet dans son milieu socioéconomique",
"selectmaingoa2":"Étude des concurrents",
"selectmaingoa3":"Étude des clients potentiels",
"selectmaingoa4":"Connaitre les essentiels du marché immobilier",

"theme-label":"Sélectionnez les thèmes à analyser",
"selectAllThemes":"Sélectionner tout",



"subtitle-real-estate-essentials":"Les essentiels du marché immobilier",
    
"theme-global-real-estate-sales":"Ventes par type de bien",
"theme-parc-immobilier":"Parc immobilier (social, résidentiel)",
"theme-loyer-moyen":"Loyer moyen",

"theme-nb-appartements":"Nombre d'appartements vendus",
"theme-nombre-maisons-vendus":"Nombre de maisons vendues",
 "theme-prix-median-appartements":"Prix médian appartements",
"theme-prix-median-maisons":"Prix médian maisons",
"theme-urban-real-estate-projects":"Urban & Real Estate projects",
"theme-m2-price":"M2 price",
"theme-gentrification":"Gentrification",

    
"subtitle-security-statistics": "Security Statistics",
    
"theme-vols":"Vols",
"theme-coups-blessures":"Coups / Blessures",
"theme-drogues":"Drogues",
"theme-alcool":"Alcool",
"theme-armes":"Armes",
"theme-secu-publiq-2024":"Atteinte Sécurité Publique",
"theme-degradat-prop":"Dégradations de propriété",
"theme-cambriolages":"Cambriolages",

    
"subtitle-sociology": "Sociologie",
    
"theme-densite":"Densité",
"theme-18-64-ans":"% 18-64 ans",
"theme-solde-migratoire":"Solde migratoire",
"theme-croissance-annuelle":"Croissance annuelle",
"theme-population-immigree":"% Population immigrée",
"theme-taux-natalite":"Taux natalité",
"theme-cultural-composition":"Cultural Composition",

    
"theme-subtitle-socioeconomics":"Socio-Economie",
    
"theme-revenu-median":"Revenu médian",
"theme-taux-emploi":"Taux emploi",
"theme-taux-par-type-occupation":"Taux par type d'occupation",
"theme-taux-chomage":"Taux chômage",
"theme-taux-grapa-65":"Taux GRAPA 65+",
"theme-naissances-sans-revenu-travail":"Naissances sans revenu de travail",
"theme-naissances-meres-etrangeres":"Naissances mères étrangères",
"theme-taux-retard-scolaire":"Taux retard scolaire",

    
"subtitle-economy": "Economie",
    
"theme-sieges-sociaux":"Sièges sociaux",
"theme-etablissements":"Établissements",
"theme-solde-migration-entreprises":"Solde migration entreprises",
"theme-secteurs-economiques-majeurs":"Secteurs économiques majeurs",

    
"subtitle-quality-of-life": "Qualité de vie",

"theme-espaces-verts": "Espaces verts",
"theme-pollution-air-noise": "Pollution: air, noise",

"summary-title": "Résumé",
"summaryContent": "En attente...",

"select-city-label": "Sélectionnez une ville",
"select-city-placeholder": "Sélectionner une ville",
"city-brussels": "Bruxelles",

"btn-send-summary": "Envoyer"


 

  },



  
  en: {
    "about-text": "We build proprietary solutions to solve real-world challenges using high-value data.",
    "menu-about": "ABOUT",
    "locationBtn": "SMART-IN",





"locationContentInnerText":"We support entrepreneurs and investors in their commercial and real estate projects by providing independent and transparent market studies, helping reduce risk before any capital commitment.\n\nThrough Smart-In, our internal platform, we leverage a large data base capable of delivering the essential insights needed for your projects’ success.",



    
    "discoverSmartIn": "Discover Smart-In",
   // "presentationSmartIn": "Video",

"offices-link": "Offices: Brussels, Paris, Monaco",
    "offices": "Offices",


 "offices-list":`
      21 Avenue du Boulevard, Brussels (Financial District)<br><br>
      7 Rue Meyerbeer, Paris (Opéra Garnier)<br><br>
      74 Boulevard d'Italie, Monaco (Monte Carlo)
    </p>`,

    
      
    "contact-text": "Contact Us",
    "contact-text2": "We carefully listen to your needs to provide you with a precise and adapted solution.",
    "btn-send": "Send",
    "our-media": "Our Media",


"presentation-title":"Presentation Smart-In",

    "smartin-title":"Smart-In: Contact Form",

    "contactInfo-label": "Contact details",
"contactInfoSmartIn":"email / mobile",

     "address-label":"Adresse à analyser",
"addressInput":"Maximum 3 addresses, separated by commas",


    "project-description":"Describe your project",
"projectDetails":"Provide as much useful information as possible so our team can propose the best solution for you",



"maingoal-label":"Select the main goal of the study",

"selectAllGoals": "Select all",
"selectmaingoal": "Analyze project consistency in its socio-economic context",
"selectmaingoa2": "Competitor analysis",
"selectmaingoa3": "Potential client analysis",
"selectmaingoa4": "Know the essentials of the real estate market",

"theme-label": "Select the themes to analyze",

"selectAllThemes":"Select all",



"subtitle-real-estate-essentials": "Real Estate Essentials",


"theme-global-real-estate-sales": "Sales by Property Type",
"theme-parc-immobilier": "Housing Stock (social, residential)",
"theme-loyer-moyen": "Average Rent",

"theme-nb-appartements": "Number of Apartments Sold",
"theme-nombre-maisons-vendus": "Number of Houses Sold",
"theme-prix-median-appartements": "Median Apartment Price",
"theme-prix-median-maisons": "Median House Price",
"theme-urban-real-estate-projects": "Urban & Real Estate Projects",
"theme-m2-price": "Price per m²",
"theme-gentrification": "Gentrification",

      
"subtitle-security-statistics": "Security Statistics",
      
"theme-vols": "Thefts",
"theme-coups-blessures": "Assaults/Injuries",
"theme-drogues": "Drugs",
"theme-alcool": "Alcohol",
"theme-armes": "Weapons",
"theme-secu-publiq-2024": "Public Safety Offenses",
"theme-degradat-prop": "Property Damage",
"theme-cambriolages": "Burglaries",

    
"subtitle-sociology": "Sociology",
    
"theme-densite": "Population Density",
"theme-18-64-ans": "% Age 18-64",
"theme-solde-migratoire": "Migration Balance",
"theme-croissance-annuelle": "Annual Growth",
"theme-population-immigree": "% Immigrant Population",
"theme-taux-natalite": "Birth Rate",
"theme-cultural-composition": "Cultural Composition",

    
"theme-subtitle-socioeconomics":"Socio-Economics",
    
"theme-revenu-median": "Median Income",
"theme-taux-emploi": "Employment Rate",
"theme-taux-par-type-occupation": "Occupation Type Rates",
"theme-taux-chomage": "Unemployment Rate",
"theme-taux-grapa-65": "GRAPA 65+ Rate",
"theme-naissances-sans-revenu-travail": "Births without Work Income",
"theme-naissances-meres-etrangeres": "Births to Foreign Mothers",
"theme-taux-retard-scolaire": "School Delay Rate",

    
"subtitle-economy": "Economy",
    
"theme-sieges-sociaux": "Headquarters",
"theme-etablissements": "Establishments",
"theme-solde-migration-entreprises": "Company Migration Balance",
"theme-secteurs-economiques-majeurs": "Major Economic Sectors",

"subtitle-quality-of-life": "Quality of Life",
"theme-espaces-verts": "Green Spaces",
"theme-pollution-air-noise": "Pollution: Air, Noise",


    
"summary-title":"Summary",
"summaryContent":"No data yet...",


"select-city-label":"Select a city",
"select-city-placeholder":"Select a city",
"city-brussels":"Brussels",

"btn-send-summary":"Send"
    
  }
};

  


</script>
</body>
</html>



































